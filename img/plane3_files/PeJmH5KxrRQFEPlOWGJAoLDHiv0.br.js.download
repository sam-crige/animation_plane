var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},__assign.apply(this,arguments)},__awaiter=this&&this.__awaiter||function(n,t,i,r){function u(n){return n instanceof i?n:new i(function(t){t(n)})}return new(i||(i=Promise))(function(i,f){function o(n){try{e(r.next(n))}catch(t){f(t)}}function s(n){try{e(r["throw"](n))}catch(t){f(t)}}function e(n){n.done?i(n.value):u(n.value).then(o,s)}e((r=r.apply(n,t||[])).next())})},__generator=this&&this.__generator||function(n,t){function o(n){return function(t){return s([n,t])}}function s(o){if(e)throw new TypeError("Generator is already executing.");while(f&&(f=0,o[0]&&(r=0)),r)try{if(e=1,u&&(i=o[0]&2?u["return"]:o[0]?u["throw"]||((i=u["return"])&&i.call(u),0):u.next)&&!(i=i.call(u,o[1])).done)return i;(u=0,i)&&(o=[o[0]&2,i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++;u=o[1];o=[0];continue;case 7:o=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!i||o[1]>i[0]&&o[1]<i[3])){r.label=o[1];break}if(o[0]===6&&r.label<i[1]){r.label=i[1];i=o;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(o);break}i[2]&&r.ops.pop();r.trys.pop();continue}o=t.call(n,r)}catch(s){o=[6,s];u=0}finally{e=i=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},e,u,i,f;return f={next:o(0),"throw":o(1),"return":o(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f},__spreadArray=this&&this.__spreadArray||function(n,t,i){if(i||arguments.length===2)for(var r=0,f=t.length,u;r<f;r++)!u&&r in t||(u||(u=Array.prototype.slice.call(t,0,r)),u[r]=t[r]);return n.concat(u||Array.prototype.slice.call(t))},ToneTier,SydFSCHelper;(function(n){n.LOW="Low";n.MEDIUM="Medium";n.HIGH="High"})(ToneTier||(ToneTier={})),function(n){function ge(u){var o,h,c,l,p,w,k,g,tt,it,rt,ut,ft,et,ot,st,ht,ct,vt,yt;return u===void 0&&(u=null),__awaiter(this,void 0,void 0,function(){var wt,hi,yb,kr,dr,nu,ci,pb,wb,gt,ti,bb,kb,iu,db,ru,vi,gb,uu,fu,nk,tk,yi,ik,rk,uk,fk,ek,ok,sk,hk,ck,lk,eu,ou,su,hu,bi,cu,ak,vk,yk,lu,au,vu,yu,pu,pk,wu,wk,bk,kk,dk,gk,bu,hf,lf,nd,td,af,id,rd,vf,ud,fd,ed,yf,od,sd,pf,hd,wf,cd,ld,ad,bf,kf,gf,di,ne,te,ie,gi,re,tr,vd,ue,fe,ee,oe,se,yd,ve,ye,pd,pe,wd,we,be,ke,de,ge,uo,bd,eo,kd,dd,oo,gd,so,ho,ng,yo,po,wo,bo,tg,ig,rg,ug,fg,eg,og,sg,hg,cg,lg,ag,vg,ko,yg,pg,wg,bg,kg,dg,gg,ts,vs,ys,ps,bs,ks,ds,th,ih,nn,tn,rn,un,fn,rh,uh,fh,eh,oh,sh,hh,ch,lh,ah,vh,yh,ph,wh,bh,kh,dh,gh,nc,en,on,sn,hn,tc,cn,ic,rc,uc,ln,fc,ec,hc,yct,cc,lc,ac,pct,wct,vc,yc,pc,wc,bc,kc,dc,gc,nl,tl,il,rl,ul,fl,el,an,ol,sl,hl,cl,ll,al,vl,yl,pl,wl,bl,kl,dl,gl,na,ta,bct,ia,ra,kct,dct,gct,vn,yn,ua,pn,fa,ea,oa,sa,ir,ha,ca,la,wn,bn,kn,dn,aa,va,ya,pa,wa,gn,ntt,ttt,itt,rtt,utt,ftt,ba,ka,da,ga,ett,ott,stt,htt,ctt,ltt,nv,att,vtt,ytt,tv,ptt,iv,wtt,btt,ktt,dtt,gtt,nit,nlt,rv,tit,iit,rit,uv,tlt,fv,uit,fit,eit,oit,sit,ev,hit,cit,ov,lit,ait,vit,sv,yit,hv,pit,wit,bit,kit,dit,git,nrt,trt,irt,rrt,urt,frt,ert,ort,srt,cv,hrt,lv,crt,lrt,ilt,art,vrt,yrt,av,prt,wrt,brt,krt,vv,drt,grt,nut,tut,iut,rut,uut,fut,eut,out,sut,hut,cut,lut,aut,vut,yut,put,wut,but,kut,dut,yv,pv,wv,gut,nft,tft,ift,rft,bv,kv,uft,fft,eft,oft,sft,dv,gv,hft,ny,cft,lft,ty,aft,vft,iy,ry,uy,fy,ey,oy,sy,hy,cy,ly,yft,kt,pft,wft,ay,bft,kft,dft,gft,net,vy,yy,tet,iet,rr,ret,uet,py,fet,wy,by,ky,dy,gy,np,tp,ip,rp,up,eet,fp,ep,op,sp,hp,rlt,cp,lp,oet,ap,vp,yp,pp,wp,set,het,cet,bp,aet,vet,kp,yet,dp,pet,ii,ui,wet,bet,ult,ket,det,get,not,tot,iot,rot,uot,gp,fot,eot,nw,oot,sot,tw,hot,cot,lot,aot,iw,rw,vot,yot,pot,uw,wot,bot,kot,dot,got,nst,tst,fw,ist,ew,rst,ust,fst,est,ost,sst,hst,cst,lst,ast,flt,vst,yst,ow,pst,wst,bst,kst,dst,gst,nht,tht,iht,rht,uht,fht,eht,oht,sht,sw,hht,cht,lht,aht,vht,hw,yht,pht,cw,lw,aw,vw,wht,bht,yw,pw,kht,dht,ght,nct,ww,bw,kw,dw,gw,tct,ict,er,rct,uct,fct,nb,tb,ib,ri,or,rb,ub,fb,sr,eb,ob,hr,ar,sb,fi,vr,ect,hb,oct,cb,lb,ab,vb,sct,hct,cct,lct,yr,act,dt,oi,si,pr,vct,ni,elt=this;return __generator(this,function(olt){switch(olt.label){case 0:if(wt=_w._sydConvConfig,hi=t(wt===null||wt===void 0?void 0:wt.enableEmptyToneDebugLogs,!0),hi&&i(r.System,"BeginConfigs","Codex"),n.isConfigSet=!0,yb=t(wt===null||wt===void 0?void 0:wt.overrideSydOptions,!1),kr=t(wt===null||wt===void 0?void 0:wt.sydOptionSets,!1),dr=t(wt===null||wt===void 0?void 0:wt.voiceSrOptions,f),nu=t(wt===null||wt===void 0?void 0:wt.sydUrlPart,!1),ci=t(wt===null||wt===void 0?void 0:wt.isSydCorpnet,!1),pb=t(wt===null||wt===void 0?void 0:wt.enableSydOverlay,!1),wb=t(wt===null||wt===void 0?void 0:wt.isVisualParityRun,!1),gt=t(wt===null||wt===void 0?void 0:wt.isMSAAuthenticated,!1),ti=t(wt===null||wt===void 0?void 0:wt.isAADAuthenticated,!1),bb=t(wt===null||wt===void 0?void 0:wt.userMailId,f),kb=t(wt===null||wt===void 0?void 0:wt.username,f),iu=t(wt===null||wt===void 0?void 0:wt.sydBaseUrl,ef),db=t(wt===null||wt===void 0?void 0:wt.cmcBaseUrl,sf),ru=t(wt===null||wt===void 0?void 0:wt.isCompliantSydneyEndpointEnabled,!1),vi=t(wt===null||wt===void 0?void 0:wt.isBingChatForEnterprise,!1),gb=t(wt===null||wt===void 0?void 0:wt.isBingChatForSchools,!1),y=gb||vi,pt=y&&t(wt===null||wt===void 0?void 0:wt.bfbCookieChatConsented,!1),uu=t(wt===null||wt===void 0?void 0:wt.sydIDs,f),fu=t(wt===null||wt===void 0?void 0:wt.traceId,f),nk=t(_w._sydConvTranslation,{}),tk=t(wt===null||wt===void 0?void 0:wt.enableSydMic,!0),yi=t(wt===null||wt===void 0?void 0:wt.enableSydShare,!1),ik=t(wt===null||wt===void 0?void 0:wt.enableAnswerBridgeShare,!1),rk=t(wt===null||wt===void 0?void 0:wt.enableUnifiedNativeShareProvider,!1),uk=t(wt===null||wt===void 0?void 0:wt.enableMessageShareableSignalV2,!0),fk=t(wt===null||wt===void 0?void 0:wt.addDv3Opt,!0),ek=t(wt===null||wt===void 0?void 0:wt.enable161Feats,!0),ok=t(wt===null||wt===void 0?void 0:wt.enableAnsCardSuffix,!0),sk=t(wt===null||wt===void 0?void 0:wt.enableLikeSaveToBingPage,!1),hk=t(wt===null||wt===void 0?void 0:wt.isAdultUser,!0),ck=t(wt===null||wt===void 0?void 0:wt.isMissingDob,!1),lk=t(wt===null||wt===void 0?void 0:wt.removeDSAT,!0),eu=t(wt===null||wt===void 0?void 0:wt.enableErrorTelemetry,!0),ou=t(wt===null||wt===void 0?void 0:wt.enableSpeechContinuousErrorHandling,!0),su=t(wt===null||wt===void 0?void 0:wt.enableSpeechErrorLoggingAsSystemEvent,!0),hu=t(wt===null||wt===void 0?void 0:wt.enableSpeechChatDataAfterPhrase,!1),bi=t(wt===null||wt===void 0?void 0:wt.enableSpeechEarconOnInput,!1),cu=t(wt===null||wt===void 0?void 0:wt.enableTTSOnSuggestionAfterVoice,!1),ak=t(wt===null||wt===void 0?void 0:wt.enableTTSNeverSetting,!0),vk=t(wt===null||wt===void 0?void 0:wt.enableCustomizedTtsOptions,!0),yk=t(wt===null||wt===void 0?void 0:wt.enableCustomizedTtsVoiceNameOptions,!1),lu=t(wt===null||wt===void 0?void 0:wt.enableSimpleVoiceInput,!0),au=t(wt===null||wt===void 0?void 0:wt.enableSpeechDictationMode,!0),vu=t(wt===null||wt===void 0?void 0:wt.enableAudioPreloadLimit,!0),yu=t(wt===null||wt===void 0?void 0:wt.enableSpeechFateTTSStop,!0),pu=t(wt===null||wt===void 0?void 0:wt.enableSpeechGetUserMedia,!1),pk=t(wt===null||wt===void 0?void 0:wt.enableCdxFeats,!1),wu=t(wt===null||wt===void 0?void 0:wt.cdxFeats,f),wk=t(wt===null||wt===void 0?void 0:wt.disableSecureUpdateConversation,!1),bk=t(wt===null||wt===void 0?void 0:wt.disableSecureSendFeedback,!1),kk=t(wt===null||wt===void 0?void 0:wt.enableFdbkFinalized,!0),dk=t(wt===null||wt===void 0?void 0:wt.enableSemSerpShare,!1),gk=t(wt===null||wt===void 0?void 0:wt.enableCreatorShare,!1),bu=t(wt===null||wt===void 0?void 0:wt.enableSydImageCreate,!0),hf=t(wt===null||wt===void 0?void 0:wt.enableSunoMusicCreate,!0),lf=t(wt===null||wt===void 0?void 0:wt.enableSunoMusicInst,!1),nd=t(wt===null||wt===void 0?void 0:wt.enableSunoMusicRelativeBaseUrl,!1),td=t(wt===null||wt===void 0?void 0:wt.enableSecureConnect,!0),af=t(wt===null||wt===void 0?void 0:wt.enableAffinityInstance,!1),id=t(wt===null||wt===void 0?void 0:wt.enableSSE,!1),rd=t(wt===null||wt===void 0?void 0:wt.enableSSEFallback,!1),vf=t(wt===null||wt===void 0?void 0:wt.sydneyBaseUrlForSSE,""),ud=t(wt===null||wt===void 0?void 0:wt.enableStatefulReconnection,!1),fd=t(wt===null||wt===void 0?void 0:wt.enableTelemetryFixForCreateConvError,!0),ed=t(wt===null||wt===void 0?void 0:wt.enableFixForDuplicateErrorCount,!0),yf=t(wt===null||wt===void 0?void 0:wt.enableGetMessagesHub,!0),od=t(wt===null||wt===void 0?void 0:wt.enableShortOpt,!1),sd=t(wt===null||wt===void 0?void 0:wt.enablePuidOvr,!1),pf=t(wt===null||wt===void 0?void 0:wt.enablePerfTracker,!0),hd=t(wt===null||wt===void 0?void 0:wt.enableEmbeddedPerf,!1),wf=t(wt===null||wt===void 0?void 0:wt.enableSinglePerfEventPerMessage,!0),cd=t(wt===null||wt===void 0?void 0:wt.enableE2EPerf,!0),ld=t(wt===null||wt===void 0?void 0:wt.enableCIBBootstrapper,!1),ad=t(wt===null||wt===void 0?void 0:wt.enableCCPPerf,!1),bf=t(wt===null||wt===void 0?void 0:wt.enableVisibilityPerfFix,!1),kf=t(wt===null||wt===void 0?void 0:wt.enableLiteSuggestionItemWrap,!1),gf=t(wt===null||wt===void 0?void 0:wt.enableNeatListening,!1),di=t(wt===null||wt===void 0?void 0:wt.enableCIQAlwaysLoad,!1),ne=t(wt===null||wt===void 0?void 0:wt.enableUnauthRedir,!0),te=t(wt===null||wt===void 0?void 0:wt.enableNewChatIconInActionBar,!0),ie=t(wt===null||wt===void 0?void 0:wt.enableActionBarV2,!0),gi=t(wt===null||wt===void 0?void 0:wt.speechSurface,nf),re=t(wt===null||wt===void 0?void 0:wt.enableSpeechDictationBridgeMode,!1),tr=t(wt===null||wt===void 0?void 0:wt.enableSpeculativeMode,!1),vd=t(wt===null||wt===void 0?void 0:wt.enableTranslateForBotMessage,!1),ue=t(wt===null||wt===void 0?void 0:wt.enableReadAloudMessage,!0),fe=t(wt===null||wt===void 0?void 0:wt.enableReadAloudOptions,!1),ee=t(wt===null||wt===void 0?void 0:wt.enableSpeechTouchStart,!0),oe=t(wt===null||wt===void 0?void 0:wt.enableReadAloudOnDeepLeoOnly,!0),se=t(wt===null||wt===void 0?void 0:wt.enableReadAloudFixV1,!1),yd=t(wt===null||wt===void 0?void 0:wt.bypassMicPermissionsQuery,!1),ve=t(wt===null||wt===void 0?void 0:wt.enableSpeechLanguageSetting,!0),ye=t(wt===null||wt===void 0?void 0:wt.enableSpeechAutoDetectLanguage,!1,!0),pd=t(wt===null||wt===void 0?void 0:wt.enableWhisperSR,!1),pe=t(wt===null||wt===void 0?void 0:wt.enableSpeechLogNoiseReduction,!0),wd=t(wt===null||wt===void 0?void 0:wt.enableAutoReopenMic,!1),we=t(wt===null||wt===void 0?void 0:wt.enableAutoReopenMicTTSStopped,!1),be=t(wt===null||wt===void 0?void 0:wt.enableAltVoiceQuerySubmissionOnMobileABV2,!1),ke=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableMockMicListeningState,!1),de=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enableMockMicBlockedState,!1),ge=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.enableSpeculativeModeJSErrorChecks,!0),uo=t(wt===null||wt===void 0?void 0:wt.enableUndefinedToListeningAnimation,!1),bd=t((l=_w._sydConvConfig)===null||l===void 0?void 0:l.enableAutoDetectLanguageNotification,!0),eo=t((p=_w._sydConvConfig)===null||p===void 0?void 0:p.enableAutoDetectLanguageNotificationTest,!1),kd=t((w=_w._sydConvConfig)===null||w===void 0?void 0:w.enableReopenMicNotification,!1),dd=t((k=_w._sydConvConfig)===null||k===void 0?void 0:k.enableReopenMicNotificationTest,!1),oo=t((g=_w._sydConvConfig)===null||g===void 0?void 0:g.enableUniversalInput,!1),gd=t(wt===null||wt===void 0?void 0:wt.enableDynamicBaseUrl,!1),so=t(wt===null||wt===void 0?void 0:wt.enableSpeechErrorHandling,!0),ho=t(wt===null||wt===void 0?void 0:wt.enableSpeechAriaLabel,!0),ng=t(wt===null||wt===void 0?void 0:wt.enableSpeechReopenMic,!1),yo=t(wt===null||wt===void 0?void 0:wt.enableSpeechTTSLatencyLogging,!0),po=t(wt===null||wt===void 0?void 0:wt.enableSpeechInputWhileRequestIsPending,!1),wo=t(wt===null||wt===void 0?void 0:wt.enableSpeechIconDarkTheme,!0),bo=t(wt===null||wt===void 0?void 0:wt.enableSpeechAudioContextPlayback,!1),tg=t(wt===null||wt===void 0?void 0:wt.enableDesignerGPTAsPartnerNameinBICUrl,!0),ig=t(wt===null||wt===void 0?void 0:wt.enableNewTopicAutoExpand,!0),rg=t(wt===null||wt===void 0?void 0:wt.enableMaxTurnsPerConversation,!0),ug=t(wt===null||wt===void 0?void 0:wt.enableAmberTurnPerConversation,!1),fg=t(wt===null||wt===void 0?void 0:wt.enableDynamicMaxMessageLength,!0),eg=t(wt===null||wt===void 0?void 0:wt.maxMessageLengthBalanced,4e3),og=t(wt===null||wt===void 0?void 0:wt.maxMessageLengthCreative,8e3),sg=t(wt===null||wt===void 0?void 0:wt.maxMessageLengthPrecise,8e3),hg=t(wt===null||wt===void 0?void 0:wt.maxMessageLengthBalancedPro,4e3),cg=t(wt===null||wt===void 0?void 0:wt.maxMessageLengthCreativePro,16e3),lg=t(wt===null||wt===void 0?void 0:wt.maxMessageLengthPrecisePro,16e3),ag=t(wt===null||wt===void 0?void 0:wt.isAccountLinkedWithActiveAAD,!1),vg=t(wt===null||wt===void 0?void 0:wt.enableThreadsAADMSASwitch,!0),ko=t(wt===null||wt===void 0?void 0:wt.enableTelemetryPrivacy,!1),yg=t(wt===null||wt===void 0?void 0:wt.enableSydSafeSearch,!1),pg=t(wt===null||wt===void 0?void 0:wt.enableFeedbackClientSideScreenshot,!0),wg=t(wt===null||wt===void 0?void 0:wt.enablePrivacyConsent,!0),bg=t(wt===null||wt===void 0?void 0:wt.syntheticStreamSpeed,at),kg=t(wt===null||wt===void 0?void 0:wt.disableShareWithNoMargin,!1),dg=t(wt===null||wt===void 0?void 0:wt.enableCreativeLandingPage,!1),gg=t(wt===null||wt===void 0?void 0:wt.enableServerLogMerging,!0),ts=t(wt===null||wt===void 0?void 0:wt.enableOneClickCopy,!1),vs=t(wt===null||wt===void 0?void 0:wt.enableReorderCopiedTextReferences,!1),ys=t(wt===null||wt===void 0?void 0:wt.enableCodeCopy,!0),ps=t(wt===null||wt===void 0?void 0:wt.enableCodeBar,!0),bs=t(wt===null||wt===void 0?void 0:wt.enableCodeBarV2,!0),ks=t(wt===null||wt===void 0?void 0:wt.enableUserMessageCopy,!0),ds=t(wt===null||wt===void 0?void 0:wt.enableRichTextPaste,!1),th=t(wt===null||wt===void 0?void 0:wt.enablePasteMarkdownTable,!1),ih=t(wt===null||wt===void 0?void 0:wt.enablePasteMath,!1),nn=t(wt===null||wt===void 0?void 0:wt.enableMobileOneClickShare,!1),tn=t(wt===null||wt===void 0?void 0:wt.enableFeedbackInstrumentation,!0),rn=t(wt===null||wt===void 0?void 0:wt.enableSuggEndFix,!1),un=t(wt===null||wt===void 0?void 0:wt.enableAutoRecoverFromInvalidSession,!0),fn=t(wt===null||wt===void 0?void 0:wt.enableAutoRecoverFromInvalidSessionForFirstTurn,!0),rh=t(wt===null||wt===void 0?void 0:wt.enableInlineFeedback,!0),uh=t(wt===null||wt===void 0?void 0:wt.enableInlineFeedbackV2,!1),fh=t(wt===null||wt===void 0?void 0:wt.enableInlineFeedbackV21,!0),eh=t(wt===null||wt===void 0?void 0:wt.enableFeedbackCollectMoreInfo,!0),oh=t(wt===null||wt===void 0?void 0:wt.enableSerpFeedback,!0),sh=t(wt===null||wt===void 0?void 0:wt.enableMessageSave,!1),hh=t(wt===null||wt===void 0?void 0:wt.enableMoreOnBotMessageActionsBar,!1),ch=t(wt===null||wt===void 0?void 0:wt.enableMessageExport,!1),lh=t(wt===null||wt===void 0?void 0:wt.enableMessageExportWithPlainText,!1),ah=t(wt===null||wt===void 0?void 0:wt.enableHandoffAPI,!0),vh=t(wt===null||wt===void 0?void 0:wt.enableGetTokenInAdvance,!1),yh=t(wt===null||wt===void 0?void 0:wt.enableRedirectUriFunction,!1),ph=t(wt===null||wt===void 0?void 0:wt.enableMsalLocalStorageCache,!1),wh=t(wt===null||wt===void 0?void 0:wt.enableMsalDifferentAuthority,!1),bh=t(wt===null||wt===void 0?void 0:wt.enableMsalStoreAuthInCookie,!1),kh=t(wt===null||wt===void 0?void 0:wt.enableSearchOnBingForBotMessage,!1),dh=t(wt===null||wt===void 0?void 0:wt.enableSearchIconForSearchOnBing,!1),gh=t(wt===null||wt===void 0?void 0:wt.enableScopeRowForTable,!1),nc=t(wt===null||wt===void 0?void 0:wt.enableMarkdownTableV2,!1),en=t(wt===null||wt===void 0?void 0:wt.enableSearchOnBingInLinkHoverCard,!1),on=t(wt===null||wt===void 0?void 0:wt.enableLearnMoreCitationWithArrow,!1),sn=t(wt===null||wt===void 0?void 0:wt.enablePromotionItemCitationWithArrow,!1),hn=t(wt===null||wt===void 0?void 0:wt.enableLinkCitationWithArrow,!1),tc=t(wt===null||wt===void 0?void 0:wt.enableMessageExportOnlineWord,!0),cn=t(wt===null||wt===void 0?void 0:wt.enableMessageExportWord,!1),ic=t(wt===null||wt===void 0?void 0:wt.enableMessageExportOnlineExcel,!0),rc=t(wt===null||wt===void 0?void 0:wt.enableMessageExportLocalExcel,!1),uc=t(wt===null||wt===void 0?void 0:wt.enableTableBarFlatActions,!0),ln=t(wt===null||wt===void 0?void 0:wt.enableThreadExportLocalWord,!1),fc=t(wt===null||wt===void 0?void 0:wt.enableThreadExportOnlineWord,!0),ec=t(wt===null||wt===void 0?void 0:wt.enableMessageExportV2,!0),hc=t(wt===null||wt===void 0?void 0:wt.enableBotMessageActionsBar,!0),yct=t(wt===null||wt===void 0?void 0:wt.enableBotMessageActionsBarV3,!1),cc=t(wt===null||wt===void 0?void 0:wt.enableShorterToastDuration,!1),lc=t(wt===null||wt===void 0?void 0:wt.enableDirectlyOpenExportOnlineLink,!0),ac=t(wt===null||wt===void 0?void 0:wt.enableLoginHintForSSO,!0),pct=t(wt===null||wt===void 0?void 0:wt.enableLimitToMsaOnlineExport,!0),wct=t(wt===null||wt===void 0?void 0:wt.enableLimitToAadOnlineExport,!0),vc=t(wt===null||wt===void 0?void 0:wt.enableTonePreview,!1),yc=t(wt===null||wt===void 0?void 0:wt.enableMSAuth1stPartyApp,!0),pc=t(wt===null||wt===void 0?void 0:wt.enableAdsRedirectLinkForTextMessage,!1),wc=t(wt===null||wt===void 0?void 0:wt.enableCopyHtml,!0),bc=t(wt===null||wt===void 0?void 0:wt.enableCopyHtmlWithHighlightedCode,!1),kc=t(wt===null||wt===void 0?void 0:wt.enableExportPdfWithAnswerScreenshot,!1),dc=t(wt===null||wt===void 0?void 0:wt.enableExportDocxWithAnswerScreenshot,!1),gc=t(wt===null||wt===void 0?void 0:wt.enableLibrariesSplitImport,!1),nl=t(wt===null||wt===void 0?void 0:wt.enableFlatActionBar,!1),tl=t(wt===null||wt===void 0?void 0:wt.codexMUIDUser,!1),il=t(wt===null||wt===void 0?void 0:wt.enableChatIconClickable,!1),rl=t(wt===null||wt===void 0?void 0:wt.enableChatQueryClickable,!1),ul=t(wt===null||wt===void 0?void 0:wt.enableChatQueryClickableV2,!1),fl=t(wt===null||wt===void 0?void 0:wt.enableChatQueryClickableV3,!1),el=t(wt===null||wt===void 0?void 0:wt.enableChatQueryClickableV4,!1),an=t(wt===null||wt===void 0?void 0:wt.enableThreadOnlyFromSignal,!0),ol=t(wt===null||wt===void 0?void 0:wt.enableShareQuestionWithResponse,!1),sl=t(wt===null||wt===void 0?void 0:wt.enableShareQuestionTitlePrefix,!1),hl=t(wt===null||wt===void 0?void 0:wt.enableShareInlineAdsIframe,!1),cl=t(wt===null||wt===void 0?void 0:wt.enableSharePreview,!0),ll=t(wt===null||wt===void 0?void 0:wt.enableShareToMyBing,!1),al=t(wt===null||wt===void 0?void 0:wt.enableShareLinkPreviewForNative,!1),vl=t(wt===null||wt===void 0?void 0:wt.enableShowShareButtonWithSecurityCheck,!0),yl=t(wt===null||wt===void 0?void 0:wt.enableScreenshotIgnoreOnCibSerp,!1),pl=t(wt===null||wt===void 0?void 0:wt.enableStandaloneUtility,!1),wl=t(wt===null||wt===void 0?void 0:wt.enableCPPRRUpsell,!1),bl=t(wt===null||wt===void 0?void 0:wt.enableWelcomeCopilotProButton,!1),kl=t(wt===null||wt===void 0?void 0:wt.enableCopilotProUpsellDimeV2,!1),dl=t(wt===null||wt===void 0?void 0:wt.enableCopilotProOverlay,!1),gl=t(wt===null||wt===void 0?void 0:wt.enableCopilotProOverlayCloseButton,!1),na=t(wt===null||wt===void 0?void 0:wt.enableCopilotProSpectrumTemplate,!1),ta=t(wt===null||wt===void 0?void 0:wt.enableCopilotProPersistentTemplate,!1),bct=t(wt===null||wt===void 0?void 0:wt.copilotProSpectrumButtonText,f),ia=t(wt===null||wt===void 0?void 0:wt.copilotProPersistentTitle,f),ra=t(wt===null||wt===void 0?void 0:wt.CopilotProPersistentSubTitle,f),n.enableCreatorSendQueryWhenShowConvQuery=t(wt===null||wt===void 0?void 0:wt.enableCreatorSendQueryWhenShowConvQuery,!0),n.padding2TMobile=t(wt===null||wt===void 0?void 0:wt.padding2TMobile,80),nr=t(wt===null||wt===void 0?void 0:wt.enableSetConvQueryFlag,!0),a=t((tt=_w._sydConvTranslation)===null||tt===void 0?void 0:tt.pageTitleText,f),nt=document.title||f,v=y?le:li,n.enableConvModeSwitchAjax=t(wt===null||wt===void 0?void 0:wt.enableConvModeSwitchAjax,!1),n.enableBingChatPath=t(wt===null||wt===void 0?void 0:wt.enableBingChatPath,!1),kct=t(wt===null||wt===void 0?void 0:wt.enableCodexWin,!1),dct=t(wt===null||wt===void 0?void 0:wt.enableCodexWinBotMessage,!1),gct=t(wt===null||wt===void 0?void 0:wt.codexWinCurrentTurn,0),vn=t(wt===null||wt===void 0?void 0:wt.enableGetChats,!1),yn=t(wt===null||wt===void 0?void 0:wt.enableDelayGetChats,!0),ua=t(wt===null||wt===void 0?void 0:wt.enableNewTables,!1),pn=t(wt===null||wt===void 0?void 0:wt.codexTableVersion,1),fa=t(wt===null||wt===void 0?void 0:wt.enableBufferMessage,!1),ea=t(wt===null||wt===void 0?void 0:wt.enableBufferLoadingDots,!1),oa=t(wt===null||wt===void 0?void 0:wt.enableServerMetaText,!1),sa=t(wt===null||wt===void 0?void 0:wt.enableCodeInterpreterPreviewCode,!1),ir=t(wt===null||wt===void 0?void 0:wt.enableGptForMobileBrowser,!1),ha=t(wt===null||wt===void 0?void 0:wt.enable3PGptForMobileBrowser,!1),ca=t(wt===null||wt===void 0?void 0:wt.enableGptForMobileUnderside,!1),la=t(wt===null||wt===void 0?void 0:wt.enableGptCreatorItemContextMenuFor1P,!1),wn=t(wt===null||wt===void 0?void 0:wt.enableGPTCreator,!1),bn=t(wt===null||wt===void 0?void 0:wt.enableGptWelcomeInitLoad,!1),kn=t(wt===null||wt===void 0?void 0:wt.enableGptBuilderAction,!1),dn=t(wt===null||wt===void 0?void 0:wt.isGptCreator,!1),aa=t(wt===null||wt===void 0?void 0:wt.gptCreatorCopilotCreatorPath,tf),va=t(wt===null||wt===void 0?void 0:wt.gptCreatorBingPreviewPath,ei),ya=t(wt===null||wt===void 0?void 0:wt.gptCreatorSharePath,ei),pa=t(wt===null||wt===void 0?void 0:wt.enableMock3PGpts,!1),wa=t(wt===null||wt===void 0?void 0:wt.enableGPTCreatorCreateGptPreview,!0),gn=t(wt===null||wt===void 0?void 0:wt.enableGptCreatorPreviewAutoSave,!1),ntt=t(wt===null||wt===void 0?void 0:wt.enableGptBuilderBottomBackgroundForCreatePanel,!1),ttt=t(wt===null||wt===void 0?void 0:wt.enableOrderForCustomGreetings,!1),itt=t(wt===null||wt===void 0?void 0:wt.enableCopilotCharacter,!1),rtt=t(wt===null||wt===void 0?void 0:wt.emoteDriverJsUrl,f),utt=t(wt===null||wt===void 0?void 0:wt.emotePlayerJsUrl,f),ftt=t(wt===null||wt===void 0?void 0:wt.freeSydneyMicaAnimatedImgUrl,f),ba=t(wt===null||wt===void 0?void 0:wt.disableSuggestionsInCustomGpt,!1),ka=t(wt===null||wt===void 0?void 0:wt.enableThreadsForAllGpts,!1),da=t(wt===null||wt===void 0?void 0:wt.enableBingGptUploadFileAPI,!1),ga=t(wt===null||wt===void 0?void 0:wt.enableOptimizedStreaming,!1),ett=t(wt===null||wt===void 0?void 0:wt.enableExportDocxWithFormat,!0),ott=t(wt===null||wt===void 0?void 0:wt.enableDisposeOrphanedHosts,!1),stt=t(wt===null||wt===void 0?void 0:wt.enablePreserveTextFormat,!0),htt=t(wt===null||wt===void 0?void 0:wt.enableHoverCardOnLearnMorePills,!0),ctt=t(wt===null||wt===void 0?void 0:wt.enableShareOnHostMessage,!1),ltt=t(wt===null||wt===void 0?void 0:wt.disablePassBotGreetingInContext,!0),nv=t(wt===null||wt===void 0?void 0:wt.enableThreadContextMenu,!1),att=t(wt===null||wt===void 0?void 0:wt.enableCloudflareCaptcha,!0),vtt=t(wt===null||wt===void 0?void 0:wt.enableInvisibleCaptchaChallenge,!1),ytt=t(wt===null||wt===void 0?void 0:wt.enableKnowledgeCardImage,!0),tv=t(wt===null||wt===void 0?void 0:wt.enableStartPromotion,!0),ptt=t(wt===null||wt===void 0?void 0:wt.enableCopyButtonInstrumented,!0),iv=t(wt===null||wt===void 0?void 0:wt.enableThreads,!1),wtt=t(wt===null||wt===void 0?void 0:wt.enableThreadSync,!1),btt=t(wt===null||wt===void 0?void 0:wt.enableMobileKnowledgeCardOverlay,!0),ktt=t(wt===null||wt===void 0?void 0:wt.enableCibOverlayForKnowledgeCard,!0),dtt=t(wt===null||wt===void 0?void 0:wt.enableKCAdaptiveCardUpdate,!0),gtt=t(wt===null||wt===void 0?void 0:wt.enableKCInChatClickThroughRequery,!1),nit=t(wt===null||wt===void 0?void 0:wt.enablePluginsByTone,!1),nlt=t(wt===null||wt===void 0?void 0:wt.flux3PPluginList,f),rv=t(wt===null||wt===void 0?void 0:wt.disableWelcomeScreen,!1),tit=t(wt===null||wt===void 0?void 0:wt.enableWelcomeScreenV2,!1),iit=t(wt===null||wt===void 0?void 0:wt.enableWelcomeScreenV3,!1),rit=t(wt===null||wt===void 0?void 0:wt.enableChatFRE,!1),uv=t(wt===null||wt===void 0?void 0:wt.disableZIRMSStart,!1),tlt=t(wt===null||wt===void 0?void 0:wt.supportFullLang,!1),fv=t(wt===null||wt===void 0?void 0:wt.enableWebPageContextMessages,!1),uit=t(wt===null||wt===void 0?void 0:wt.enableCodexPluginb,!1),fit=t(wt===null||wt===void 0?void 0:wt.enableNewAutoSuggestEndPoint,!1),eit=t(wt===null||wt===void 0?void 0:wt.enable2TQueryConfigsOnSerpLoad,!1),oit=t(wt===null||wt===void 0?void 0:wt.enableSydStaticAdsLink,!1),sit=t(wt===null||wt===void 0?void 0:wt.isMobileHost,!1),ev=t(wt===null||wt===void 0?void 0:wt.enableMessagePrivacy,!1),hit=t(wt===null||wt===void 0?void 0:wt.enableNoSecondaryUseMessagePrivacy,!1),cit=t(wt===null||wt===void 0?void 0:wt.enableResponseRetentionOnNetworkError,!1),ov=t(wt===null||wt===void 0?void 0:wt.enableCloseShareOnClickOutside,!1),lit=t(wt===null||wt===void 0?void 0:wt.enableTypingIndicatorForSerpSlotCreator,!1),ait=t(wt===null||wt===void 0?void 0:wt.enableOnProcessingStartEvent,!0),vit=t(wt===null||wt===void 0?void 0:wt.enableOnProcessingCompleteEvent,!0),sv=t(wt===null||wt===void 0?void 0:wt.enableUpdateProfile,!1),yit=t(wt===null||wt===void 0?void 0:wt.enableTypewriter,!0),hv=t(wt===null||wt===void 0?void 0:wt.sydRequestSource,f),pit=t(wt===null||wt===void 0?void 0:wt.enableConfirmPromptSingleDeleteThread,!1),wit=!t(wt===null||wt===void 0?void 0:wt.disableTooltip,!0),bit=t(wt===null||wt===void 0?void 0:wt.enableNewlineTooltip,!1),kit=t(wt===null||wt===void 0?void 0:wt.enableSaharaStream,!1),dit=t(wt===null||wt===void 0?void 0:wt.enableFaviconsV2,!0),git=t(wt===null||wt===void 0?void 0:wt.enableFaviconsAutoRefresh,!1),nrt=t(wt===null||wt===void 0?void 0:wt.enableCachedContentFixForIsStartOfSession,!0),trt=t(wt===null||wt===void 0?void 0:wt.enableLooseMessageDensity,!1),irt=t(wt===null||wt===void 0?void 0:wt.enablePassSydedgForMobile,!1),rrt=t(wt===null||wt===void 0?void 0:wt.enableLinkPreviewCarousel,!1),urt=t(wt===null||wt===void 0?void 0:wt.useFakeDataForLinkPreviewCarousel,!1),frt=t(wt===null||wt===void 0?void 0:wt.enableThreadShowPlugins,!0),ert=t(wt===null||wt===void 0?void 0:wt.enableUserMessageIdConsistency,!1),ort=t(wt===null||wt===void 0?void 0:wt.enablePluginPanelFre,!1),srt=t(wt===null||wt===void 0?void 0:wt.enablePersistentInputText,!0),cv=t(wt===null||wt===void 0?void 0:wt.enableEmptyThreadTime,!1),hrt=t(wt===null||wt===void 0?void 0:wt.enableRenderIframeCardRequest,!1),lv=t(wt===null||wt===void 0?void 0:wt.enableBackendExportService,!1),crt=t(wt===null||wt===void 0?void 0:wt.enableFastChatLoadAnimation,!1),lrt=t(wt===null||wt===void 0?void 0:wt.enableShareInThreadsHeader,!0),ilt=t(wt===null||wt===void 0?void 0:wt.enableExternalSpeechIconAnimation,!1),art=t(wt===null||wt===void 0?void 0:wt.enableNewConversationActivate,!1),vrt=t(wt===null||wt===void 0?void 0:wt.enableMobileFirstClickShare,!0),yrt=t(wt===null||wt===void 0?void 0:wt.enableMessageTypeCheck,!0),av=t(wt===null||wt===void 0?void 0:wt.enableSydneyGetMessagesHub,!1),prt=t(wt===null||wt===void 0?void 0:wt.enableInlinePersonalizationConsent,!1),wrt=t(wt===null||wt===void 0?void 0:wt.enableInlinePersonalizationConsentCopilotLogo,!0),brt=t(wt===null||wt===void 0?void 0:wt.enableInlinePersonalizationConsentCallback,!1),krt=t(wt===null||wt===void 0?void 0:wt.personalizationInlineConsentTurn,cf),vv=t(wt===null||wt===void 0?void 0:wt.enableEduStarterMessage,!1),drt=t(wt===null||wt===void 0?void 0:wt.enableEduStarterMessageAnimation,!1),grt=t(wt===null||wt===void 0?void 0:wt.enablePhonePlugin,!1),nut=t(wt===null||wt===void 0?void 0:wt.enablePhonePluginDogfoodEnvironment,!1),tut=t(wt===null||wt===void 0?void 0:wt.enablePhonePluginBetaEnvironment,!1),iut=t(wt===null||wt===void 0?void 0:wt.enablePhonePluginProductionEnvironment,!0),rut=t(wt===null||wt===void 0?void 0:wt.disablePhonePluginInPreciseTone,!1),uut=t(wt===null||wt===void 0?void 0:wt.disablePhonePluginInBalancedTone,!1),fut=t(wt===null||wt===void 0?void 0:wt.disablePhonePluginInCreativeTone,!1),eut=t(wt===null||wt===void 0?void 0:wt.enablePhonePluginInPreciseTone,!1),out=t(wt===null||wt===void 0?void 0:wt.enablePhonePluginInBalancedTone,!1),sut=t(wt===null||wt===void 0?void 0:wt.enablePhonePluginInCreativeTone,!1),hut=t(wt===null||wt===void 0?void 0:wt.enablePhonePluginCatalogId,!0),cut=t(wt===null||wt===void 0?void 0:wt.enableUseStoreAsSourceForPhonePlugin,!1),lut=t(wt===null||wt===void 0?void 0:wt.enablePhonePluginCatalog,!0),aut=t(wt===null||wt===void 0?void 0:wt.enablePhonePluginDirectPopupAuth,!1),vut=t(wt===null||wt===void 0?void 0:wt.enableAndroidCopilotV2,!1),yut=t(wt===null||wt===void 0?void 0:wt.enableDonationPlugin,!1),put=t(wt===null||wt===void 0?void 0:wt.enableDonationPluginDogfood,!1),wut=t(wt===null||wt===void 0?void 0:wt.enableDonationPluginProd,!1),but=t(wt===null||wt===void 0?void 0:wt.enablePrivacyProtectedConversation,!1),kut=t(wt===null||wt===void 0?void 0:wt.enableNoSecondaryUseProtectedConversation,!1),dut=t(wt===null||wt===void 0?void 0:wt.enableAdaptiveCardMessage,!0),yv=t(wt===null||wt===void 0?void 0:wt.enableVersionedApiCalls,!0),pv=t(wt===null||wt===void 0?void 0:wt.enableAddNotebookSource,!1),wv=t(wt===null||wt===void 0?void 0:wt.enableJWTFTRFix,!0),gut=t(wt===null||wt===void 0?void 0:wt.enablePaywallTelemetryFix,!1),nft=t(wt===null||wt===void 0?void 0:wt.enableNoBingSearchResponseBackground,!0),tft=t(wt===null||wt===void 0?void 0:wt.enableSettingsToggle,!1),ift=t(wt===null||wt===void 0?void 0:wt.enableSettingsToggleTop,!1),rft=t(wt===null||wt===void 0?void 0:wt.enableTurboTone,!1),bv=t(wt===null||wt===void 0?void 0:wt.enableOpenEdgeNotification,!1),kv=t(wt===null||wt===void 0?void 0:wt.enableSuppressSigninMessage,!1),uft=t(wt===null||wt===void 0?void 0:wt.enableRereadMetaAcc,!0),fft=t(wt===null||wt===void 0?void 0:wt.enableKeyboardNav,!1),eft=t(wt===null||wt===void 0?void 0:wt.enableToneSelectorA11yFitAndFinish,!1),oft=t(wt===null||wt===void 0?void 0:wt.disableDisengagedErrorLog,!1),sft=t(wt===null||wt===void 0?void 0:wt.enableExpandSeeMoreContainerOnFocusIn,!0),dv=t(wt===null||wt===void 0?void 0:wt.enableExportPdfWithRichFormat,!1),gv=t(wt===null||wt===void 0?void 0:wt.enableThreadsConsent,!1),hft=t(wt===null||wt===void 0?void 0:wt.enableMutedThreadsConsent,!0),ny=t(wt===null||wt===void 0?void 0:wt.enableDeleteSingleConversationMemory,!0),cft=t(wt===null||wt===void 0?void 0:wt.enableThreadsTopRightButton,!1),lft=t(wt===null||wt===void 0?void 0:wt.enablePluginsTopRightButton,!1),ty=t(wt===null||wt===void 0?void 0:wt.enableOneDs,!1),aft=t(wt===null||wt===void 0?void 0:wt.enableBceMuidConsent,!1),vft=t(wt===null||wt===void 0?void 0:wt.enableBfbCookieConsent,!1),iy=t(wt===null||wt===void 0?void 0:wt.enableThreadContextMenuV2,!0),ry=t(wt===null||wt===void 0?void 0:wt.enableSearchBoxAutoFocus,!1),uy=t(wt===null||wt===void 0?void 0:wt.enableUserMessageRewriteInsteadOfCopy,!1),fy=t(wt===null||wt===void 0?void 0:wt.enableUserMessageRewriteAndCopy,!0),ey=t(wt===null||wt===void 0?void 0:wt.enableSendFeedback,!1),oy=t(wt===null||wt===void 0?void 0:wt.enableSearchUserMessageOnBing,!1),sy=t(wt===null||wt===void 0?void 0:wt.enableEditLastUserMessage,!1),hy=t(wt===null||wt===void 0?void 0:wt.enableHideLastUserMessageInEdit,!1),cy=t(wt===null||wt===void 0?void 0:wt.enablePrivateThreadDefaultTitle,!1),ly=t(wt===null||wt===void 0?void 0:wt.enablePromptHandling,!0),yft=t(wt===null||wt===void 0?void 0:wt.enableU18Scenario,!1),kt=t(wt===null||wt===void 0?void 0:wt.isCCP,!1),pft=t(wt===null||wt===void 0?void 0:wt.enablePluginDevTools,!1),wft=t(wt===null||wt===void 0?void 0:wt.enablePluginCSRF,!1),ay=t(wt===null||wt===void 0?void 0:wt.enableModeAndSlotValidationForAds,!1),bft=t(wt===null||wt===void 0?void 0:wt.enableLogNoChatVariant,!1),kft=t(wt===null||wt===void 0?void 0:wt.enableVersionPrompt,!1),dft=t(wt===null||wt===void 0?void 0:wt.enableAttributionsV2,!0),gft=t(wt===null||wt===void 0?void 0:wt.enableLearnMoreCards,!1),net=t(wt===null||wt===void 0?void 0:wt.enableSentByDescriptor,!0),vy=t(wt===null||wt===void 0?void 0:wt.enableInlineComponents,!1),yy=t(wt===null||wt===void 0?void 0:wt.enableSuggestionChipDisplayText,!0),tet=t(wt===null||wt===void 0?void 0:wt.enableLinkPreviewFailureTelemetry,!1),iet=t(wt===null||wt===void 0?void 0:wt.enableLinkPreviewAppIdV2,!1),rr=t(wt===null||wt===void 0?void 0:wt.enableWpFluxTwoTAnswerCard,!1),ret=t(wt===null||wt===void 0?void 0:wt.disableWpFluxTwoTAnswerCardFallback,!1),uet=t(wt===null||wt===void 0?void 0:wt.enableBICRelativeBaseUrl,!1),py=t(wt===null||wt===void 0?void 0:wt.isCopilotChat,!1),fet=t(wt===null||wt===void 0?void 0:wt.enableCitationsOnSentences,!0),wy=t(wt===null||wt===void 0?void 0:wt.enableWelcomeItemEnterAnimation,!1),by=t(wt===null||wt===void 0?void 0:wt.enableToneSelectorAsDropdown,!1),ky=t(wt===null||wt===void 0?void 0:wt.enableSidePanelPositionInlineStart,!1),dy=t(wt===null||wt===void 0?void 0:wt.enableSidePanelAsPersistent,!1),gy=t(wt===null||wt===void 0?void 0:wt.enableSidePanelVisibilityTrigger,!1),np=t(wt===null||wt===void 0?void 0:wt.enableSidePanelCustomScrollbar,!1),tp=t(wt===null||wt===void 0?void 0:wt.enableConversationCustomScrollbar,!1),ip=t(wt===null||wt===void 0?void 0:wt.enableConversationAlignmentTop,!1),rp=t(wt===null||wt===void 0?void 0:wt.enableSimpleCopilotWelcomeScreen,!1),up=t(wt===null||wt===void 0?void 0:wt.enableThreadsHoverDescriptor,!1),eet=t(wt===null||wt===void 0?void 0:wt.enableAnswerCards,!0),fp=t(wt===null||wt===void 0?void 0:wt.enableMessagesWithInternalLoadAnimation,!1),ep=t(wt===null||wt===void 0?void 0:wt.enableHideRAISuggestionIcon,!1),op=t(wt===null||wt===void 0?void 0:wt.enableMuidDisabledSuggestionBar,!0),sp=t(wt===null||wt===void 0?void 0:wt.enableHideSuggestionOnErrors,!0),hp=t(wt===null||wt===void 0?void 0:wt.enableConversationToActionBarFocusOrder,!1),rlt=t(wt===null||wt===void 0?void 0:wt.enableBopCustomGreeting,!0),cp=t(wt===null||wt===void 0?void 0:wt.enableBufferClearOnReset,!0),lp=t(wt===null||wt===void 0?void 0:wt.enableCancelPendingRequestOnNewMessage,!0),oet=t(wt===null||wt===void 0?void 0:wt.enablePluginChatModeOnly,!0),ap=t(wt===null||wt===void 0?void 0:wt.enableThreadsArrowNav,!0),vp=t(wt===null||wt===void 0?void 0:wt.disableTitlePreviewLabel,!0),yp=t(wt===null||wt===void 0?void 0:wt.disableTurnCount,!1),pp=t(wt===null||wt===void 0?void 0:wt.enableMultiDomainBIC,!0),wp=t(wt===null||wt===void 0?void 0:wt.allowedBICDomains,"https://copilot.microsoft.com,https://www.bing.com"),set=t(wt===null||wt===void 0?void 0:wt.enableDeferGetConversation,!0),het=t(wt===null||wt===void 0?void 0:wt.enableBingProxyApiForSingleDeleteInThreads,!1),ur=n.getConfigOrDefault((it=_w._sydConvConfig)===null||it===void 0?void 0:it.extraNotebookOptionsSets,ff),cet=t(wt===null||wt===void 0?void 0:wt.enableSilentUpdateConversationFail,!1),bp=t(wt===null||wt===void 0?void 0:wt.enableGraphicArtJsonResponse,!1),aet=t(wt===null||wt===void 0?void 0:wt.enableStartConvFixInShareConversationMode,!1),vet=t(wt===null||wt===void 0?void 0:wt.enableInlineTwoTAnswer,!1),kp=t(wt===null||wt===void 0?void 0:wt.enableFreeSydney,!1),yet=t(wt===null||wt===void 0?void 0:wt.enable1P3PGPTsGreeting,!1),dp=t(wt===null||wt===void 0?void 0:wt.enableShortShareUrl,!0),pet=t(wt===null||wt===void 0?void 0:wt.defaultMaxPersonaCount,6),ii=t(wt===null||wt===void 0?void 0:wt.isBingUserSignedIn,!1),ui=t(wt===null||wt===void 0?void 0:wt.enableFlux3P,!1),wet=t(wt===null||wt===void 0?void 0:wt.f3pMsaAccountOnly,!0),bet=t(wt===null||wt===void 0?void 0:wt.enablePluginBCE,!1),ult=t(wt===null||wt===void 0?void 0:wt.isUnderside,!1),ket=t(wt===null||wt===void 0?void 0:wt.enableF3pNoSearchBgFix,!0),det=t(wt===null||wt===void 0?void 0:wt.enablePluginCopilot,!1),get=t(wt===null||wt===void 0?void 0:wt.enableSearchPluginOnTop,!0),not=t(wt===null||wt===void 0?void 0:wt.topListedPluginIds,""),tot=t(wt===null||wt===void 0?void 0:wt.enablePluginDiscovery,!1),iot=t(wt===null||wt===void 0?void 0:wt.enablePluginSendLocaleInfo,!1),rot=t(wt===null||wt===void 0?void 0:wt.enablePluginsV1,!0),uot=t(wt===null||wt===void 0?void 0:wt.enableSunoPluginInChatRecommendation,!1),gp=t(wt===null||wt===void 0?void 0:wt.enableInstService,!1),fot=t(wt===null||wt===void 0?void 0:wt.enablePluginRevocation,!1),eot=t(wt===null||wt===void 0?void 0:wt.enableSearchPlugins,!1),nw=t(wt===null||wt===void 0?void 0:wt.sydneyFeedbackVertical,uf),oot=t(wt===null||wt===void 0?void 0:wt.enableUndersideTopRightButtonBugFix,!0),sot=t(wt===null||wt===void 0?void 0:wt.enableDefaultGptsOnMobile,!1),tw=t(wt===null||wt===void 0?void 0:wt.enableEnterToCreateNewLine,!1),hot=t(wt===null||wt===void 0?void 0:wt.enableUpdateLocationButton,!1),cot=t(wt===null||wt===void 0?void 0:wt.enableLocationMetaMessage,!1),lot=t(wt===null||wt===void 0?void 0:wt.enableNavigatorPermissionCheck,!1),aot=t(wt===null||wt===void 0?void 0:wt.enablePromptDirectlyForLocation,!1),iw=t(wt===null||wt===void 0?void 0:wt.enableTextMessageDelayedFinalization,!1),rw=t(wt===null||wt===void 0?void 0:wt.enableNewTopicButtonFeature,!1),vot=t(wt===null||wt===void 0?void 0:wt.enableFullScreenIframe,!0),yot=t(wt===null||wt===void 0?void 0:wt.enablePartiallyCoveringDialogForFullScreenIframe,!1),pot=t(wt===null||wt===void 0?void 0:wt.enableDelayedMsgHandlerDisposal,!0),uw=t(wt===null||wt===void 0?void 0:wt.enableChangeSidePanelVisibility,!1),wot=t(wt===null||wt===void 0?void 0:wt.enableMuidRobustnessFix,!1),bot=t(wt===null||wt===void 0?void 0:wt.enableHideTypingIndicatorOnError,!0),kot=t(wt===null||wt===void 0?void 0:wt.enableLearnmoreAsHeader,!0),dot=t(wt===null||wt===void 0?void 0:wt.enableRaiButtonTooltip,!0),got=t(wt===null||wt===void 0?void 0:wt.enableResetFocusLossFix,!0),nst=t(wt===null||wt===void 0?void 0:wt.disableTurnCountLocalAccount,!1),tst=t(wt===null||wt===void 0?void 0:wt.isTurnCountLocalAccountDisabled,!1),fw=t(wt===null||wt===void 0?void 0:wt.enableWindowsCopilot,!1),ist=t(wt===null||wt===void 0?void 0:wt.enableCaptchaCmcUrl,!1),ew=t(wt===null||wt===void 0?void 0:wt.codexHoverCardDelayTimerDuration,500),rst=t(wt===null||wt===void 0?void 0:wt.enableCitationSuperscriptFix,!0),ust=t(wt===null||wt===void 0?void 0:wt.enableTopAlignConversation,!0),fst=t(wt===null||wt===void 0?void 0:wt.enableHideZeroTurn,!0),est=t(wt===null||wt===void 0?void 0:wt.enableMessageGroupHeader,!0),ost=t(wt===null||wt===void 0?void 0:wt.enableFullWidthMessages,!0),sst=t(wt===null||wt===void 0?void 0:wt.enableInlineStreamingIndicator,!0),hst=t(wt===null||wt===void 0?void 0:wt.enableDefaultBalancedtone,!1),cst=t(wt===null||wt===void 0?void 0:wt.enableMultilineSuggestions,!0),lst=t(wt===null||wt===void 0?void 0:wt.enableAdaptiveCardImageForCodeInterpreter,!1),ast=t(wt===null||wt===void 0?void 0:wt.enableCodePreviewInFooter,!1),flt=t(wt===null||wt===void 0?void 0:wt.enableCopilotClientConfig,!1),vst=t(wt===null||wt===void 0?void 0:wt.enableProgressMessageForBce,!1),yst=t(wt===null||wt===void 0?void 0:wt.enableStackedSuggestionChips,!1),ow=t(wt===null||wt===void 0?void 0:wt.enableMoveThreadActionsInsideContextMenu,!1),pst=t((rt=_w._sydConvConfig)===null||rt===void 0?void 0:rt.enableTierLoadBalancing,!1),wst=t(wt===null||wt===void 0?void 0:wt.enableRegisterContextAsync,!1),bst=t(wt===null||wt===void 0?void 0:wt.enableEdgeContextualPlugin,!1),kst=t(wt===null||wt===void 0?void 0:wt.enableShorelineStrongStyle,!1),dst=t(wt===null||wt===void 0?void 0:wt.enableStreamingInBackground,!1),gst=t(wt===null||wt===void 0?void 0:wt.enableBGStreamInChat,!1),nht=t(wt===null||wt===void 0?void 0:wt.enablePrefetchForMicMode,!0),tht=t(wt===null||wt===void 0?void 0:wt.enablePrefetchForNonMicMode,!0),iht=t(wt===null||wt===void 0?void 0:wt.enablePrefetchConversationToken,!0),rht=t(wt===null||wt===void 0?void 0:wt.enableConnectionProvider,!1),uht=t(wt===null||wt===void 0?void 0:wt.enableGptCreatorConfigurePanelCodeInterpreter,!1),fht=t(wt===null||wt===void 0?void 0:wt.enableGptCreatorConfigurePanelIconUpload,!1),eht=t(wt===null||wt===void 0?void 0:wt.enableGptCreatorConfigurePanelIconGenerated,!1),oht=t(wt===null||wt===void 0?void 0:wt.enableGptCreatorConfigurePanelIconExternalStorage,!1),sht=t(wt===null||wt===void 0?void 0:wt.enableGptCreatorConfigurePanelEmptyDescriptionError,!1),sw=t(wt===null||wt===void 0?void 0:wt.enableGPTCreatorBCE,!1),hht=t(wt===null||wt===void 0?void 0:wt.enable3PGPTPublishProvenance,!1),cht=t(wt===null||wt===void 0?void 0:wt.userAnID,f),lht=t(wt===null||wt===void 0?void 0:wt.disableGptCrtVisualSearchapi,!1),aht=t(wt===null||wt===void 0?void 0:wt.enableFaqBcc,!0),vht=t(wt===null||wt===void 0?void 0:wt.enableFaqBce,!0),hw=t(wt===null||wt===void 0?void 0:wt.faqBccBceUrl,gu),yht=t(wt===null||wt===void 0?void 0:wt.enableAttributionsV2MoreButton,!0),pht=t(wt===null||wt===void 0?void 0:wt.enable2TScrollToBottom,!1),cw=t(wt===null||wt===void 0?void 0:wt.enableThumbsDownToSearchOnBing,!0),lw=t(wt===null||wt===void 0?void 0:wt.enableThreadContextMenuA11yBugFix,!0),aw=t(wt===null||wt===void 0?void 0:wt.enableSRA11yFix,!0),vw=t(wt===null||wt===void 0?void 0:wt.enableStopStreamingSignal,!0),wht=t(wt===null||wt===void 0?void 0:wt.enableStartOfSessionFix,!1),bht=t(wt===null||wt===void 0?void 0:wt.enableGhostedAutoSuggest,!0),yw=t(wt===null||wt===void 0?void 0:wt.codexCanvas,rf),pw=t(wt===null||wt===void 0?void 0:wt.enableMetaFlowTasksMessage,!1),kht=t(wt===null||wt===void 0?void 0:wt.enableHostedContentToneSignal,!1),dht=t(wt===null||wt===void 0?void 0:wt.enableHostedContentPartnerSignal,!1),ght=t(wt===null||wt===void 0?void 0:wt.enableThreadZiFix,!0),nct=t(wt===null||wt===void 0?void 0:wt.enableDeleteAllThreads,!1),ww=t(wt===null||wt===void 0?void 0:wt.enableInternalSearchQueryReadout,!1),bw=t(wt===null||wt===void 0?void 0:wt.enableFixReponseReadout,!1),kw=t(wt===null||wt===void 0?void 0:wt.enableThreadNameReadout,!1),dw=t(wt===null||wt===void 0?void 0:wt.enableInlineButtonAdaptiveCardUpdate,!1),gw=t(wt===null||wt===void 0?void 0:wt.enableFeedbackCaptureFix,!0),tct=t(wt===null||wt===void 0?void 0:wt.pluginDevToolsDfpSessionId,f),ict=t(wt===null||wt===void 0?void 0:wt.locationLearnMore,df),cr(),wet&&ui&&!gt&&!bet&&(ui=!1),kt&&i(r.System,"isCCP","Codex"),hv&&(CIB.config.sydney.request.source=hv),er=t(wt===null||wt===void 0?void 0:wt.enableNotebookMode,!1),rct=t(wt===null||wt===void 0?void 0:wt.enableNotebookMsaConsent,!1),uct=t(wt===null||wt===void 0?void 0:wt.isMsaMock,!1),er&&(CIB.config.features.enableNotebookMode=er,bt=(ut=CIB.config.sydney.request.optionsSets)===null||ut===void 0?void 0:ut.slice(0),fr=ur.split(","),CIB.config.features.enableRecoverConvNotebook=t(wt===null||wt===void 0?void 0:wt.enableRecoverConvNotebook,!0),CIB.config.features.enableShiftEnterNotebook=t(wt===null||wt===void 0?void 0:wt.enableShiftEnterNotebook,!1),CIB.config.features.enableAltNotebookIcons=t(wt===null||wt===void 0?void 0:wt.enableAltNotebookIcons,!0),CIB.config.features.enableGoldilocksNotebook=t(wt===null||wt===void 0?void 0:wt.enableGoldilocksNotebook,!0),CIB.config.features.enableNotebookVerticalLayout=t(wt===null||wt===void 0?void 0:wt.enableNotebookVerticalLayout,!0),CIB.config.features.enableNotebookVerticalResizer=t(wt===null||wt===void 0?void 0:wt.enableNotebookVerticalResizer,!0),CIB.config.features.enableNotebookMaxWidth=t(wt===null||wt===void 0?void 0:wt.enableNotebookMaxWidth,!0),CIB.config.features.enableNotebookPrefilledQuery=t(wt===null||wt===void 0?void 0:wt.enableNotebookPrefilledQuery,!1),CIB.config.features.enableInlineTwoTAnswerNotebook=t(wt===null||wt===void 0?void 0:wt.enableInlineTwoTAnswerNotebook,!1)),yi&&CIB.config.share&&(CIB.config.share.customizedShareOutImageThumbnailId=t(wt===null||wt===void 0?void 0:wt.customizedShareOutImageThumbnailId,"OBFB.73FF6ADE8CC93B6ED1EDA1CE557E2E09"),CIB.config.share.generateShareUrlProvider=(et=(ft=_w.GlobalActionMenuV2Wrapper)===null||ft===void 0?void 0:ft.Sharing)===null||et===void 0?void 0:et.generateShareUrl),py&&yi&&(CIB.config.share.baseUrl=window.location.origin),rs(),fo(),sj_evt.bind("showSydFSC",lr),trt&&(CIB.config.messaging.messageDensity="loose"),ow&&(CIB.config.features.enableThreadContexMenuActionItems=ow),irt&&(((ot=CIB.config.contentCreator)===null||ot===void 0?void 0:ot.query)!=null&&(CIB.config.contentCreator.query.frame="sydedg"),((st=CIB.config.sunoMusicCreator)===null||st===void 0?void 0:st.query)!=null&&(CIB.config.sunoMusicCreator.query.frame="sydedg")),uet&&(CIB.config.contentCreator.baseUrl=window.location.origin),pp&&wp&&CIB.config.contentCreator&&(CIB.config.contentCreator.allowedDomains=wp.split(","),t((ht=_w._sydConvConfig)===null||ht===void 0?void 0:ht.enableSydTestCache,!1)&&CIB.config.contentCreator.allowedDomains.push(_w.location.origin)),CIB.config.features.enableMultiDomainBIC=pp,CIB.config.features.enableDeferGetConversation=set,ew!==500&&(CIB.config.messaging.hoverCardDelayTimerDuration=ew),ww&&(CIB.config.features.enableInternalSearchQueryReadout=ww),bw&&(CIB.config.features.enableFixReponseReadout=bw),kw&&(CIB.config.features.enableThreadNameReadout=kw),CIB.config.features.enableRereadMetaAcc=uft,CIB.config.features.enableKeyboardNav=fft,CIB.config.features.enableToneSelectorA11yFitAndFinish=eft,CIB.config.features.disableDisengagedErrorLog=oft,CIB.config.features.enableExpandSeeMoreContainerOnFocusIn=sft,CIB.config.features.enableSentByDescriptor=net,CIB.config.features.enableMessageTypeCheck=yrt,CIB.config.features.enableThreadOnlyFromSignal=an,CIB.config.features.enableVersionPrompt=kft,CIB.config.features.enableAttributionsV2=dft,CIB.config.features.enableLearnMoreCards=gft,CIB.config.features.enableInlineTwoTAnswer=vet,CIB.config.features.enableMuidRobustnessFix=wot,CIB.config.features.enableHideTypingIndicatorOnError=bot,CIB.config.features.enableLearnmoreAsHeader=kot,CIB.config.features.enableRaiButtonTooltip=dot,CIB.config.features.enableResetFocusLossFix=got,CIB.config.features.enableMultilineSuggestions=cst,CIB.config.features.enableStartConvFixInShareConversationMode=aet,CIB.config.features.enableResponseRetentionOnNetworkError=cit,CIB.config.features.enableStatefulReconnection=ud,CIB.config.features.enableFixForCreateConversationErrorTelemetry=fd,CIB.config.features.enableFixForDuplicateErrorCount=ed,us(),nd&&CIB.config.sunoMusicCreator&&(CIB.config.sunoMusicCreator.baseUrl=window.location.origin),fct=_ge("cib-design-tokens"),fct||CIB.activateDesignTokens(),fs(u),wr(nk),yv&&(CIB.config.features.enableVersionedApiCalls=yv),pv&&(CIB.config.features.enableAddNotebookSource=pv),wv&&(CIB.config.features.enableJWTFTRFix=wv),ap&&(CIB.config.features.enableThreadsArrowNav=ap),gd&&(CIB.config.bing.baseUrl=to()),vn&&(CIB.config.features.enableGetChats=!0),yn&&(CIB.config.features.enableDelayGetChats=!0),wtt&&(CIB.config.features.enableThreadSync=!0),yit&&(CIB.config.features.enableTypewriterEffectForThreadName=!0),kit&&(CIB.config.features.enableSaharaSyntheticStreaming=!0),dit&&(CIB.config.features.enableFaviconV2=!0),git&&(CIB.config.features.enableFaviconAutoRefresh=!0),nrt&&(CIB.config.features.enableCachedContentFixForIsStartOfSession=!0),cet&&(CIB.config.features.enableSilentUpdateConversationFail=!0),sot&&(CIB.config.features.enableDefaultGptsOnMobile=!0),CIB.config.features.enableAccessibleAttributionTitle=t(wt===null||wt===void 0?void 0:wt.enableAccessibleAttributionTitle,!1),CIB.config.features.enableEmptyToneDebugLogs=hi,CIB.config.features.enableDefaultBalancedtone=hst,CIB.config.features.enableBingProxyApiForSingleDeleteInThreads=het,iv&&ui&&(CIB.config.features.enableFlux3P=!0,typeof CIB.config.plugin=="undefined"&&(CIB.config.plugin={}),get&&(CIB.config.plugin.searchPluginPositon=0),nb=not.split(","),nb.length>0&&(CIB.config.plugin.topListedPluginIds=nb),det&&(CIB.config.features.enablePluginCopilot=!0,CIB.config.plugin.baseUrl=window.location.origin),CIB.config.features.enablePluginsV1=rot,CIB.config.features.enablePluginDiscovery=tot,CIB.config.features.enablePluginSendLocaleInfo=iot,CIB.config.features.enableSunoPluginInChatRecommendation=uot,oet&&(CIB.config.features.enablePluginOptionSetsConversationModeOnly=!0),nft&&(CIB.config.features.enableNoBingSearchResponseBackground=!0),frt&&(CIB.config.features.enableThreadShowPlugins=!0),ort&&(CIB.config.features.enablePluginPanelFre=!0),rrt&&(CIB.config.features.enableLinkPreviewCarousel=!0),tet&&(CIB.config.features.enableLinkPreviewFailureTelemetry=!0),iet&&(CIB.config.features.enableLinkPreviewAppIdV2=!0),nit&&(CIB.config.features.enablePluginsByTone=!0),uit&&(CIB.config.features.enableOpenTableBookBlueLink=!0),ket&&(CIB.config.features.enableNoBingSearchResponseBackgroundWithOptionsSets=!0),oot&&(CIB.config.features.enableUndersideTopRightButtonBugFix=!0),pft&&(CIB.config.features.enablePluginDevTools=!0),wft&&(CIB.config.features.enablePluginCSRF=!0,ni=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get("_SS","SID"),ni&&(CIB.config.plugin.csrfSid=ni)),CIB.config.plugin.dfpSessionId=tct),aht&&(CIB.config.features.enableFaqBcc=!0,CIB.config.links.faqBccBceUrl=hw),vht&&(CIB.config.features.enableFaqBce=!0,CIB.config.links.faqBccBceUrl=hw),prt&&(CIB.config.features.enableInlinePersonalizationConsent=!0,CIB.config.messaging.personalizationInlineConsentTurn=krt,CIB.config.features.enableInlinePersonalizationConsentCopilotLogo=wrt,CIB.config.features.enableInlinePersonalizationConsentCallback=brt),pit&&(CIB.config.features.enableConfirmPromptForDeleteSingleThread=!0),CIB.config.features.enableRenderCardRequestIMSearchParams=!0,urt&&(CIB.config.features.useFakeDataForLinkPreviewCarousel=!0),ert&&(CIB.config.features.enableUserMessageIdConsistency=!0),hrt&&(CIB.config.features.enableRenderIframeCardRequest=!0),vv&&(CIB.config.features.enableFreEducationalStarter=!0),drt&&(CIB.config.features.enableFreEducationalStarterAnimation=!0),grt&&(CIB.config.features.enablePhonePlugin=!0),iut&&(CIB.config.features.enablePhonePluginProductionEnvironment=!0),tut&&(CIB.config.features.enablePhonePluginBetaEnvironment=!0),nut&&(CIB.config.features.enablePhonePluginDogfoodEnvironment=!0),rut&&(CIB.config.features.disablePhonePluginInPreciseTone=!0),uut&&(CIB.config.features.disablePhonePluginInBalancedTone=!0),fut&&(CIB.config.features.disablePhonePluginInCreativeTone=!0),eut&&(CIB.config.features.enablePhonePluginInPreciseTone=!0),out&&(CIB.config.features.enablePhonePluginInBalancedTone=!0),sut&&(CIB.config.features.enablePhonePluginInCreativeTone=!0),hut&&(CIB.config.features.enablePhonePluginCatalogId=!0),cut&&(CIB.config.features.enableUseStoreAsSourceForPhonePlugin=!0),lut&&(CIB.config.features.enablePhonePluginCatalog=!0),aut&&(CIB.config.features.enablePhonePluginDirectPopupAuth=!0),vut&&(CIB.config.features.enableMobileCopilotV2=!0),yut&&(CIB.config.features.enableDonationPlugin=!0),put&&(CIB.config.features.enableDonationPluginDogfood=!0),wut&&(CIB.config.features.enableDonationPluginProd=!0),CIB.config.features.enablePrivacyProtectedConversation=but,CIB.config.features.enableNoSecondaryUseProtectedConversation=kut,vo(),dut&&(CIB.config.features.enableAdaptiveCardMessage=!0),vot&&(CIB.config.features.enableFullScreenIframe=!0),yot&&(CIB.config.features.enablePartiallyCoveringDialogForFullScreenIframe=!0),tg&&(CIB.config.features.enableDesignerGPTAsPartnerNameinBICUrl=!0),pot&&(CIB.config.features.enableDelayedMsgHandlerDisposal=!0),tb=new URLSearchParams(_w.location.search),ib=tb.get(du.toLowerCase()),(dr!=""||ci&&ib)&&(ri=CIB.config.speech.srOptions?CIB.config.speech.srOptions:[],ri=s(ri,dr),ci&&(ri=s(ri,ib)),CIB.config.speech.srOptions=ri),bi&&(CIB.config.speech.srOptions||(CIB.config.speech.srOptions=[]),CIB.config.speech.srOptions.push("earcon")),su&&(CIB.config.features.enableSpeechErrorLoggingAsSystemEvent=su),gi&&(CIB.config.speech.query.surface=gi,CIB.config.speech.surface=gi),ye&&(or=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get(n.userCook,pi),or&&or!="1"?or=="0"&&(CIB.config.speech.query.autodetect="0"):(CIB.config.speech.query.autodetect="1",CIB.config.features.enableSpeechAutoDetectLanguage=ye,(eo||bd)&&(rb=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get(n.userCook,wi),(eo||!rb||rb!=="1")&&(CIB.config.features.enableSpeechAutoDetectLanguageEvent=!0,d=!0,CIB.config.speech.shouldShowAutoDetectSettingNotification=function(){i(r.System,"ShouldShowVoiceAutoDetectNotification","Voice",{isShown:d?"1":"0"});var t=d;return t&&sj_cook.set(n.userCook,wi,"1",!0,"/",null),d=!1,t},CIB.config.speech.onAutoDetectSettingUpdated=function(t){var u=t?"1":"0";i(r.System,"VoiceAutoDetectSettingUpdated","Voice",{isEnabled:u});sj_cook.set(n.userCook,pi,u,!0,"/",null)})))),(wd||ng)&&(ub=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get(n.userCook,ki),ub&&ub!="1"?CIB.config.features.enableAutoReopenMic=!1:(CIB.config.features.enableAutoReopenMic=!0,io(kd,dd))),pd&&(CIB.config.speech.srOptions||(CIB.config.speech.srOptions=[]),CIB.config.speech.srOptions.push("cdxwhisr")),gt&&(CIB.config.features.supressSigninMessage=!0,CIB.config.features.enableAgeRestriction=!0,CIB.config.sydney.isMissingDob=ck,CIB.config.sydney.isAdultUser=hk),lk&&(fb=CIB.config.sydney.request.optionsSets.indexOf("enable_debug_commands"),fb>=0&&CIB.config.sydney.request.optionsSets.splice(fb,1)),fk&&e(CIB.config.sydney.request.optionsSets,"dv3sugg"),od&&e(CIB.config.sydney.request.optionsSets,"prodshortv4"),yb&&kr!=""&&(CIB.config.sydney.request.optionsSets=s([],kr)),pk){if(wu)for(hr=wu.split(","),sr=0,eb=hr;sr<eb.length;sr++)fi=eb[sr],CIB.config.features[fi]=!0;if(ob=tb.get(ku.toLowerCase()),ci&&ob)for(hr=ob.split(","),ar=0,sb=hr;ar<sb.length;ar++)fi=sb[ar],fi.indexOf(":")>=0&&(vr=fi.split(":"),vr.length==2&&(CIB.config.features[vr[0]]=vr[1]))}if(uu&&(ect=uu.split(","),CIB.config.sydney.request.sliceIds=ect),CIB.config.bing.isVisualParityRun=wb,CIB.config.bing.isAADAuthenticated=ti,CIB.config.bing.isMSAAuthenticated=gt,CIB.config.bing.userMailId=bb,CIB.config.bing.username=kb,CIB.config.bing.isSignedIn=ii,CIB.config.bing.isCCP=kt,iu&&(CIB.config.sydney.baseUrl=iu),nu!=""&&(CIB.config.sydney.pathBase=nu),ak&&(hb=sj_cook.get(n.userCook,ai),hb&&hb=="0"&&(CIB.config.features.enableTTSOnVoiceInput=!1)),vk&&(CIB.config.features.enableCustomizedTtsOptions=!0,oct=sj_cook.get(n.userCook,he),cb=parseInt(oct),lb=sj_cook.get(n.userCook,ce),cb&&(CIB.config.speech.ttsOptions=__assign(__assign({},CIB.config.speech.ttsOptions),{speed:cb})),lb&&yk&&(CIB.config.features.enableCustomizedTtsVoiceNameOptions=!0,CIB.config.speech.ttsOptions=__assign(__assign({},CIB.config.speech.ttsOptions),{voiceName:lb}))),ou&&(CIB.config.features.enableSpeechContinuousErrorHandling=ou),hu&&(CIB.config.features.enableSpeechChatDataAfterPhrase=hu),bi&&(CIB.config.features.enableSpeechEarconOnInput=bi),cu&&(CIB.config.features.enableTTSOnSuggestionAfterVoice=cu),lu&&(CIB.config.features.enableSimpleVoiceInput=lu),au&&(CIB.config.features.enableSpeechDictationMode=au),vu&&(CIB.config.features.enableAudioPreloadLimit=vu),yu&&(CIB.config.features.enableSpeechFateTTSStop=yu),pu&&(CIB.config.features.enableSpeechGetUserMedia=pu),so&&(CIB.config.features.enableSpeechErrorHandling=so),yo&&(CIB.config.features.enableSpeechTTSLatencyLogging=yo),po&&(CIB.config.features.enableSpeechInputWhileRequestIsPending=po),wo&&(CIB.config.features.enableSpeechIconDarkTheme=wo),ho&&(CIB.config.features.enableSpeechAriaLabel=ho),kf&&(CIB.config.features.enableLiteWrapTipsAndFix=kf),gf&&(CIB.config.features.enableNeatListening=gf),di&&(CIB.config.features.enableCIQAlwaysLoad=di),go(),il&&(CIB.config.features.enableChatIconClickable=il),rl&&(CIB.config.features.enableChatQueryClickable=rl),ul&&(CIB.config.features.enableChatQueryClickableV2=ul),fl&&(CIB.config.features.enableChatQueryClickableV3=fl),el&&(CIB.config.features.enableChatQueryClickableV4=el),CIB.config.features.enableSharedNotebook=!t(wt.disableShareLinkShowntbk,!1),ol&&(CIB.config.features.enableShareQuestionWithResponse=ol),sl&&(CIB.config.features.enableShareQuestionTitlePrefix=sl),hl&&(CIB.config.features.enableShareInlineAdsIframe=hl),cl&&(CIB.config.features.enableSharePreview=cl),ll&&(CIB.config.features.enableShareToMyBing=ll),al&&(CIB.config.features.enableShareLinkPreviewForNative=al),yl&&(CIB.config.features.enableScreenshotIgnoreOnCibSerp=yl),pl&&(CIB.config.features.enableStandaloneUtility=pl),wl&&(CIB.config.features.enableSidePanelBelowThreadSlot=wl),bl&&(CIB.config.features.enableWelcomeCopilotProButton=bl,dl?CIB.config.features.enableCopilotProOverlay=dl:gl&&(CIB.config.features.enableCopilotProOverlayCloseButton=gl)),kl&&(CIB.config.features.enableCopilotProUpsellDimeV2=kl),na&&(ab=t((ct=_w._sydConvConfig)===null||ct===void 0?void 0:ct.getCopilotProSpectrumUrl,f),vb=t((vt=_w._sydConvConfig)===null||vt===void 0?void 0:vt.getCopilotProSpectrumUrlMobile,f),CIB.config.features.enableCopilotProSpectrumTemplate=na,ab&&(CIB.config.links.getCopilotProSpectrumUrl=ab),vb&&(CIB.config.links.getCopilotProSpectrumUrlMobile=vb)),ta&&(CIB.config.features.enableCopilotProPersistentTemplate=ta,ia&&(CIB.config.strings.sydneyCopilotProPersistentTitle=ia),ra&&(CIB.config.strings.sydneyCopilotProPersistentSubTitle=ra)),CIB.config.speech.animationProvider=function(){var n=location.origin+"/CodexAnimations/animations.json";return elt.getJsonData(n)},pb&&(CIB.config.features.enableMetaMessages=!1,CIB.config.features.enableLearnMore=!1,CIB.config.features.enableCitations=!1,CIB.config.features.enableWelcomeScreen=!1,CIB.config.features.enableShare=!1,CIB.config.features.enableStopButton=!1,CIB.config.features.enableAnswerCards=!1,CIB.config.features.enableAds=!1),fu&&(CIB.config.sydney.request.traceId=fu),CIB.config.features.enableReducedRetries=t(wt===null||wt===void 0?void 0:wt.enableReducedRetries,!1),CIB.config.features.enableSpeechInput=tk,CIB.config.features.enableShare=yi,CIB.config.features.enableAnswerBridgeShare=ik,CIB.config.features.enableUnifiedNativeShareProvider=rk,CIB.config.features.enableMessageShareableSignalV2=uk,ek&&(CIB.config.features.enableErrorStateNotification=!0,CIB.config.features.enableErrorStateToastNotificationResetButton=!0,CIB.config.features.enableGhostedAutoSuggest=bht,CIB.config.features.enableHoverCardAttributionFavicons=!0),un&&(CIB.config.features.enableAutoRecoverFromInvalidSession=!0),fn&&(CIB.config.features.enableAutoRecoverFromInvalidSessionForFirstTurn=!0),eu&&(CIB.config.features.enableErrorInstrumentaton=eu),bu&&(CIB.config.features.enableSydImageCreate=bu),hf&&(CIB.config.features.enableSunoMusicCreate=hf),lf&&(CIB.config.features.enableSunoMusicInst=lf),vy&&(CIB.config.features.enableInlineComponents=vy),ao(),ns(kt),lo(),ok&&(CIB.config.features.enableAnsCardSfx=!0),sk&&(CIB.config.features.enableLikeSaveToBingPage=!0),pg&&(CIB.config.features.enableFeedbackClientSideScreenshot=!0),wg&&(tl||vi&&(vft||aft)?co():er&&rct&&(gt||uct)&&(CIB.config.features.enablePrivacyConsentFormNonMuid=!0,br())),ott&&(CIB.config.features.enableDisposeOrphanedHosts=!0),stt&&(CIB.config.features.enablePreserveTextFormat=!0),htt&&(CIB.config.features.enableHoverCardOnLearnMorePills=!0),att&&(CIB.config.features.enableCloudflareCaptcha=!0),vtt&&(CIB.config.features.enableInvisibleCaptchaChallenge=!0),ett&&(CIB.config.features.enableExportDocxWithFormat=!0),gut&&(CIB.config.features.enablePaywallTelemetryFix=!0),CIB.config.features.enableSecureUpdateConversation=!wk,CIB.config.features.enableSecureSendFeedback=!bk,CIB.config.features.enableShareSemSerp=dk,CIB.config.features.enableShareCreator=gk,CIB.config.features.enableFeedbackOnFinalized=kk,CIB.config.features.enableShareWithNoMargin=!kg,CIB.config.features.enableCreativeLandingPage=dg,CIB.config.features.enableServerLogMerging=gg,CIB.config.features.enableMobileOneClickShare=nn,CIB.config.features.enableFeedbackInstrumentation=tn,CIB.config.features.enableCopyButtonInstrumented=ptt,CIB.config.features.enableShareOnHostMessage=ctt,CIB.config.features.enablePassBotGreetingInContext=!ltt,CIB.config.features.enableMobileKnowledgeCardOverlay=btt,CIB.config.features.enableCibOverlayForKnowledgeCard=ktt,CIB.config.features.enableKCAdaptiveCardUpdate=dtt,CIB.config.features.enableKCInChatClickThroughRequery=gtt,CIB.config.features.enableNewAutoSuggestEndPoint=fit,CIB.config.features.enableNewTopicTooltip=wit,CIB.config.features.enableNewlineTooltip=bit,CIB.config.features.enableTypingIndicatorForSerpSlotCreator=lit,CIB.config.features.enableOnProcessingStartEvent=ait,CIB.config.features.enableOnProcessingCompleteEvent=vit,fg&&(CIB.config.features.enableDynamicMaxMessageLength=!0,CIB.config.messaging.maxMessageLengthBalanced=kt?hg:eg,CIB.config.messaging.maxMessageLengthCreative=kt?cg:og,CIB.config.messaging.maxMessageLengthPrecise=kt?lg:sg),CIB.config.features.enableThreadsAadMsaSwitch=vg,CIB.config.messaging.isAccountLinkedAadUser=ag,CIB.config.features.enableFastChatLoadAnimation=crt,CIB.config.features.enableShareInThreadsHeader=lrt,CIB.config.features.enableNewConversationActivate=art,CIB.config.features.enableMobileFirstClickShare=vrt,iv&&(CIB.config.features.enableThreadsTopRightButton=cft,ui&&(CIB.config.features.enableThreadsTopRightButton||lft)&&(CIB.config.features.enableThreadsTopRightButton=!0,CIB.config.features.enablePluginsTopRightButton=!0)),CIB.config.features.enablePluginRevocation=fot,CIB.config.features.enableSearchPlugins=eot,(tit||iit||rit)&&(CIB.config.features.enableWelcomeScreen=rv,CIB.config.features.enableWelcomeScreenItem=!rv),uv&&(CIB.config.features.disableZIRMSStart=uv),vv&&SydWelcomeScreen.isEduStarterEnabled()&&(CIB.config.features.enableWelcomeScreen=!0,CIB.config.features.enableWelcomeScreenItem=!0),ytt&&(CIB.config.features.enableKnowledgeCardImage=!0,CIB.config.features.enableImagesInTextMessages=!0,oc()),CIB.config.features.secureConversation=td,af&&(CIB.config.features.enableAffinityInstance=af,e(CIB.config.sydney.request.optionsSets,"machine_affinity"),e(CIB.config.sydney.request.optionsSets,"streamf")),CIB.config.features.enableSSEFallback=rd,CIB.config.features.enableSSE=id,vf&&(CIB.config.sydney.baseUrlForSSE=vf),yf&&(CIB.config.features.enableGetMessagesHub=yf),ig&&(CIB.config.features.enableNewTopicAutoExpand=!0),ug&&(sct=t(wt===null||wt===void 0?void 0:wt.amberTurnPerConversation,0),CIB.config.features.enableAmberTurnPerConversation=!0,CIB.config.messaging.amberTurnPerConversation=sct),rg&&(hct=t(wt===null||wt===void 0?void 0:wt.enableMaxTurnsFromBackend,!1),cct=t(wt===null||wt===void 0?void 0:wt.maxTurnsPerConversationMuidUser,lt),lct=t(wt===null||wt===void 0?void 0:wt.maxTurnsPerConversation,lt),CIB.config.features.enableMaxTurnsPerConversation=!0,CIB.config.features.enableMaxTurnsFromBackend=hct,CIB.config.messaging.maxTurnsPerConversation=tl?cct:lct),sd&&(CIB.config.sydney.request.Participant={Id:"1"}),pf&&(CIB.config.features.enablePerfTracker=pf),hd&&(CIB.config.features.enableEmbeddedPerf=!0),wf&&(CIB.config.features.enableSinglePerfEventPerMessage=wf),cd&&(CIB.config.features.enableE2EPerf=!0),CIB.config.features.enableCIBBootstrapper=ld,(ad||kt)&&(CIB.config.features.enableCCPPerf=!0),bf&&(CIB.config.features.enableVisibilityPerfFix=bf),ne&&(CIB.config.features.enableRedirectToLoginUrl=ne),te&&(CIB.config.features.enableNewChatIconInActionBar=te),ie&&(CIB.config.features.enableActionBarV2=ie),re&&(CIB.config.features.enableSpeechDictationBridgeMode=re),tr&&(CIB.config.features.enableSpeculativeMode=tr),CIB.config.features.enableTranslateForBotMessage=vd,ue&&(CIB.config.features.enableReadAloudMessage=ue),fe&&(CIB.config.features.enableReadAloudOptions=fe,yr=parseInt(sj_cook.get(n.userCook,ai)),yr>=0&&yr<=2&&(CIB.config.speech.ttsOptions=__assign(__assign({},CIB.config.speech.ttsOptions),{readAloud:yr}))),oe&&(CIB.config.features.enableReadAloudOnDeepLeoOnly=oe),se&&(CIB.config.features.enableReadAloudFixV1=se),ve&&(CIB.config.features.enableSpeechLanguageSetting=ve,act=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get(n.userCook,ae),tu(act)),pe&&(CIB.config.features.enableSpeechLogNoiseReduction=pe),ee&&(CIB.config.features.enableSpeechTouchStart=ee),we&&(CIB.config.features.enableAutoReopenMicTTSStopped=we),be&&(CIB.config.features.enableAltVoiceQuerySubmissionOnMobileABV2=be),ke&&(CIB.config.features.enableMockMicListeningState=ke),de&&(CIB.config.features.enableMockMicBlockedState=de),ge&&(CIB.config.features.enableSpeculativeModeJSErrorChecks=ge),uo&&(CIB.config.features.enableUndefinedToListeningAnimation=uo),oo&&(CIB.config.features.enableUniversalInput=oo),bo&&(CIB.config.features.enableSpeechAudioContextPlayback=bo),yd&&(CIB.config.speech.micPermissionProvider=function(){return{}}),yg&&(CIB.config.features.enableSafeSearchSetting=!0,ws()),CIB.config.messaging.messageBufferWorkerStreamDelayMS=bg,rn&&(CIB.config.suggestions.baseUrl="https://www.bing.com"),ts&&(CIB.config.features.enableOneClickCopy=ts),vs&&(CIB.config.features.enableReorderCopiedTextReferences=vs),ys&&(CIB.config.features.enableCodeCopy=ys),ps&&(CIB.config.features.enableCodeBar=ps),bs&&(CIB.config.features.enableCodeBarV2=bs),ks&&(CIB.config.features.enableUserMessageCopy=ks),ds&&(CIB.config.features.enableRichTextPaste=ds),th&&(CIB.config.features.enablePasteMarkdownTable=th),ih&&(CIB.config.features.enablePasteMath=ih),rh&&(CIB.config.features.enableInlineFeedback=rh),uh&&(CIB.config.features.enableInlineFeedbackV2=uh),fh&&(CIB.config.features.enableInlineFeedbackV21=fh),eh&&(CIB.config.features.enableFeedbackCollectMoreInfo=eh),oh&&(CIB.config.features.enableSerpFeedback=oh),sh&&(CIB.config.features.enableMessageSave=sh),hh&&(CIB.config.features.enableMoreOnBotMessageActionsBar=hh),ch&&(CIB.config.features.enableMessageExport=ch),lh&&(CIB.config.features.enableMessageExportWithPlainText=lh),ah&&(CIB.config.features.enableHandoffAPI=ah),vh&&(CIB.config.features.enableGetTokenInAdvance=vh),yh&&(CIB.config.features.enableRedirectUriFunction=yh),ph&&(CIB.config.features.enableMsalLocalStorageCache=ph),wh&&(CIB.config.features.enableMsalDifferentAuthority=wh),bh&&(CIB.config.features.enableMsalStoreAuthInCookie=bh),kh&&(CIB.config.features.enableSearchOnBingForBotMessage=kh),dh&&(CIB.config.features.enableSearchIconForSearchOnBing=dh),gh&&(CIB.config.features.enableScopeRowForTable=gh),nc&&(CIB.config.features.enableMarkdownTableV2=nc),tc&&(CIB.config.features.enableMessageExportOnlineWord=tc),ic&&(CIB.config.features.enableMessageExportOnlineExcel=ic),vc&&(CIB.config.features.enableTonePreview=vc),vp&&(CIB.config.features.disableTitlePreviewLabel=vp),yp&&(CIB.config.features.disableTurnCount=yp),CIB.config.features.enableSearchOnBingInLinkHoverCard=en,CIB.config.features.enableLearnMoreCitationWithArrow=on,CIB.config.features.enablePromotionItemCitationWithArrow=sn,CIB.config.features.enableLinkCitationWithArrow=hn,CIB.config.features.enableMessageExportWord=cn,CIB.config.features.enableThreadExportLocalWord=ln,rc&&(CIB.config.features.enableMessageExportLocalExcel=rc),uc&&(CIB.config.features.enableTableBarFlatActions=uc),fc&&(CIB.config.features.enableThreadExportOnlineWord=fc),ec&&(CIB.config.features.enableMessageExportV2=ec),hc&&(CIB.config.features.enableBotMessageActionsBar=hc),cc&&(CIB.config.features.enableShorterToastDuration=cc),lc&&(CIB.config.features.enableDirectlyOpenExportOnlineLink=lc),ac&&(CIB.config.features.enableLoginHintForSSO=ac),yc&&(CIB.config.features.enableMSAuth1stPartyApp=yc),pc&&(CIB.config.features.enableAdsRedirectLinkForTextMessage=pc),wc&&(CIB.config.features.enableCopyHtml=wc),bc&&(CIB.config.features.enableCopyHtmlWithHighlightedCode=bc),kc&&(CIB.config.features.enableExportPdfWithAnswerScreenshot=kc),dc&&(CIB.config.features.enableExportDocxWithAnswerScreenshot=dc),gc&&(CIB.config.features.enableLibrariesSplitImport=gc),nl&&(CIB.config.features.enableFlatActionBar=nl),tv&&(CIB.config.features.enableStartPromotion=tv),nv&&(CIB.config.features.enableThreadContextMenu=nv),ua&&(CIB.config.features.enableNewTables=ua,CIB.config.messaging.tableVersion=pn),fa&&(CIB.config.features.enableBufferMessage=fa),ea&&(CIB.config.features.enableBufferLoadingDots=ea),sa&&(CIB.config.features.enableCodeInterpreterPreviewCode=sa),ir&&(CIB.config.features.enableGptForMobileBrowser=ir,CIB.config.features.enableGPTForMobileBrowser=ir),ha&&(CIB.config.features.enable3PGptForMobileBrowser=ha),oa&&(CIB.config.features.enableServerMetaText=oa),la&&(CIB.config.features.enableGptCreatorItemContextMenuFor1P=la),pa&&(CIB.config.features.enableMock3PGpts=pa),wa&&(CIB.config.features.enableGPTCreatorCreateGptPreview=wa),bn&&(CIB.config.features.enableGptWelcomeInitLoad=!0),itt&&(CIB.config.features.enableCopilotCharacter=!0,CIB.config.copilotCharacter&&(CIB.config.copilotCharacter.emoteDriverJsUrl=rtt,CIB.config.copilotCharacter.emotePlayerJsUrl=utt,CIB.config.copilotCharacter.animatedImageUrlForMobileWelcomeScreen=ftt)),kn&&(CIB.config.features.enableGptBuilderAction=!0),kp&&wn&&kt&&(ii||ti&&sw)&&(CIB.config.features.enableGPTCreator=!0,CIB.config.features.enableExtraExtensionParams=!0,dn&&(CIB.config.features.enableThreads=!1,CIB.config.features.enableIconUpload=fht,CIB.config.features.enableIconGenerated=eht,CIB.config.features.enableIconExternalStorage=oht,CIB.config.features.enableGptCreatorPreviewAutoSave=gn,CIB.config.features.enableGptBuilderBottomBackgroundForCreatePanel=ntt,CIB.config.features.enableOrderForCustomGreetings=ttt,CIB.config.features.enableGptCreatorEmptyDescriptionError=sht,CIB.config.features.disableVisualSearchCheck=lht,CIB.config.features.enableGptCreatorConfigurePanelCodeInterpreter=uht)),CIB.config.gptCreator&&(dt=window.location.origin,oi=dt.includes("bing.com"),CIB.config.gptCreator.gptCreatorCreatorUrl=dt+aa,CIB.config.gptCreator.creatorUrl=dt+aa,CIB.config.gptCreator.gptCreatorPreviewUrl=dt+(oi?va:""),CIB.config.gptCreator.previewUrl=dt+(oi?va:""),CIB.config.gptCreator.gptCreatorShareUrl=dt+(oi?ya:""),CIB.config.gptCreator.shareUrl=dt+(oi?ya:""),CIB.config.gptCreator.imageCreateAppID="3A94CC512C67BC6591C1F88594FBDB53481B8505",CIB.config.gptCreator.visualSearchAppID="23C2EDAB5DEC0DB471849B707155F587E52D0E1B",CIB.config.gptCreator.userAnID=cht),ev&&(CIB.config.features.enableMessagePrivacy=ev),CIB.config.features.enableNoSecondaryUseMessagePrivacy=hit,ov&&(CIB.config.features.enableCloseShareOnClickOutside=ov),vl&&(CIB.config.features.enableShowShareButtonWithSecurityCheck=vl),ga&&(CIB.config.features.enableOptimizedStreaming=ga),av&&(CIB.config.features.enableSydneyGetMessagesHub=av),sv&&(CIB.config.features.enableUpdateProfile=sv),kv&&(CIB.config.features.enableSuppressSigninMessage=kv),bv&&(CIB.config.features.enableOpenEdgeNotification=bv),CIB.config.features.enableSettingsToggle=tft,CIB.config.features.enableSettingPositionTop=ift,CIB.config.features.enableTurboTone=rft,CIB.config.features.enableCitationsOnSentences=fet,no(),CIB.config.features.enableTopAlignConversation=ust,CIB.config.features.enableHideZeroTurn=fst,CIB.config.features.enableMessageGroupHeader=est,CIB.config.features.enableFullWidthMessages=ost,CIB.config.features.enableInlineStreamingIndicator=sst,CIB.config.features.enableAttributionsV2MoreButton=yht,CIB.config.features.enable2TScrollToBottom=pht,CIB.config.features.enableAdaptiveCardImageForCodeInterpreter=lst,CIB.config.features.enableThreadZiFix=ght,CIB.config.features.enableDeleteAllThreads=nct,CIB.config.features.enableCodePreviewInFooter=ast,CIB.config.features.enableProgressMessageForBce=vst,CIB.config.features.enableStackedSuggestionChips=yst,CIB.config.features.enableRegisterContextAsync=wst,CIB.config.features.enableEdgeContextualPlugin=bst,CIB.config.features.enableShorelineStrongStyle=kst,gst)CIB.onModeChanged(function(n){switch(n){case"off-stage":CIB.config.features.enableStreamingInBackground=!1;break;default:CIB.config.features.enableStreamingInBackground=!0}});else CIB.config.features.enableStreamingInBackground=dst;if(CIB.config.features.enableCitationSuperscriptFix=rst,CIB.config.features.enablePrefetchForMicMode=nht,CIB.config.features.enablePrefetchForNonMicMode=tht,CIB.config.features.enablePrefetchConversationToken=iht,CIB.config.features.enableConnectionProvider=rht,CIB.config.features.enableAnswerCards=eet,up&&(CIB.config.features.enableThreadsHoverDescriptor=up),fp&&(CIB.config.features.enableMessagesWithInternalLoadAnimation=fp),ep&&(CIB.config.features.enableHideRAISuggestionIcon=ep),op&&(CIB.config.features.enableMuidDisabledSuggestionBar=op),sp&&(CIB.config.features.enableHideSuggestionOnErrors=sp),hp&&(CIB.config.features.enableConversationToActionBarFocusOrder=hp),wy&&(CIB.config.features.enableWelcomeItemEnterAnimation=wy),by&&(CIB.config.features.enableToneSelectorAsDropdown=by),ky&&(CIB.config.features.enableSidePanelPositionInlineStart=ky),dy&&(CIB.config.features.enableSidePanelAsPersistent=dy),gy&&(CIB.config.features.enableSidePanelVisibilityTrigger=gy),np&&(CIB.config.features.enableSidePanelCustomScrollbar=np),tp&&(CIB.config.features.enableConversationCustomScrollbar=tp),ip&&(CIB.config.features.enableConversationAlignmentTop=ip),rp&&(CIB.config.features.enableSimpleCopilotWelcomeScreen=rp),dv&&(CIB.config.features.enableExportPdfWithRichFormat=dv),es(),iy&&(CIB.config.features.enableThreadContextMenuV2=iy),ry&&(CIB.config.features.enableSearchBoxAutoFocus=ry),uy&&(CIB.config.features.enableUserMessageRewriteInsteadOfCopy=uy),fy&&(CIB.config.features.enableUserMessageRewriteAndCopy=fy),ey&&(CIB.config.features.enableSendFeedback=ey),oy&&(CIB.config.features.enableSearchUserMessageOnBing=oy),sy&&(CIB.config.features.enableEditLastUserMessage=sy),hy&&(CIB.config.features.enableHideLastUserMessageInEdit=hy),cp&&(CIB.config.features.enableBufferClearOnReset=cp),lp&&(CIB.config.features.enableCancelPendingRequestOnNewMessage=lp),bp&&(CIB.config.features.enableGraphicArtJsonResponse=bp),gp&&(CIB.config.features.enableInstService=gp),nw!==""&&(CIB.config.bing.feedbackVertical=nw),vw&&(CIB.config.features.enableStopStreamingSignal=vw),pw&&(CIB.config.features.enableTasksMessage=pw),dw&&(CIB.config.features.enableInlineButtonAdaptiveCardUpdate=dw),ist&&(CIB.config.captcha.baseUrl=db),CIB.config.features.enableStartOfSessionFix=wht,CIB.config.features.partnerId=yw,CIB.config.windchime&&(CIB.config.windchime.partnerId=yw),CIB.config.features.enableHostedContentToneSignal=kht,CIB.config.features.enableHostedContentPartnerSignal=dht,os(),hs(),cs(),ss(),lv&&(CIB.config.features.enableBackendExportService=lv),is(),fv&&(CIB.config.features.enableContextMessage=fv),si=t(wt===null||wt===void 0?void 0:wt.codexOptionsSetsList,null),si&&si.length>0)for(pr=0;pr<si.length;pr++)e(CIB.config.sydney.request.optionsSets,si[pr].value);return(ls(),eit&&sc(sit,oit),ko&&(CIB.config.features.enableTelemetryPrivacy=ko),rr&&(CIB.config.features.enableWpFluxTwoTAnswerCard=rr,CIB.config.features.enableWpFluxTwoTAnswerCardFallback=rr,ret&&(CIB.config.features.enableWpFluxTwoTAnswerCardFallback=!1),e(CIB.config.sydney.request.optionsSets,"fluxv1"),e(CIB.config.sydney.request.optionsSets,"fluxmatch")),ru&&typeof MsbSydneyHelper!="undefined"?MsbSydneyHelper.initCompliantSydneyConfigs():vi&&typeof BceSydneyHelper!="undefined"?(BceSydneyHelper.initBingChatForEnterpriseSydneyConfigs(),py&&typeof MsbSydneyHelper!="undefined"&&MsbSydneyHelper.addTenantLogoToHeader()):di&&typeof CustomerSydneyHelper!="undefined"&&CustomerSydneyHelper.setCiqCIQConfig(),!!ru)?[3,4]:pst?[4,gr()]:[3,2];case 1:return olt.sent(),[3,3];case 2:gr();olt.label=3;case 3:as();olt.label=4;case 4:return srt&&(CIB.config.features.enablePersistentInputText=!0),cv&&(CIB.config.features.enableEmptyThreadTime=cv),gv&&(CIB.config.features.enableThreadsConsent=gv,CIB.config.features.enableMutedThreadsConsent=hft),ny&&(vct=t(wt===null||wt===void 0?void 0:wt.threadsAutoSaveOptionset,b),CIB.config.features.enableDeleteSingleConversationMemory=ny,CIB.config.sydney.request.conversationHistoryOptionsSets=s((yt=CIB.config.sydney.request.conversationHistoryOptionsSets)!==null&&yt!==void 0?yt:[],""+vct+",savemem,uprofupd,uprofgen"),tr&&!!CIB.config.sydney.request.conversationHistoryOptionsSets&&e(CIB.config.sydney.request.conversationHistoryOptionsSets,"enable_message_signature")),ty&&(CIB.config.features.enable1DSTelemetry=ty),cy&&(CIB.config.features.enablePrivateThreadDefaultTitle=cy),ly&&(CIB.config.features.enablePromptHandling=ly),yft&&e(CIB.config.sydney.request.optionsSets,"u18scenario"),ay&&(CIB.config.features.enableModeAndSlotValidationForAds=ay),yy&&(CIB.config.features.enableSuggestionChipDisplayText=yy),gs(),ro(),bft&&nh(),hht&&(CIB.config.features.enablePublishedGptProvenance=!0),kp&&(CIB.config.features.enableFreeSydney=!0,CIB.config.gptCreator&&(CIB.config.gptCreator.maxSidePanelPersonasCount=pet),dp&&(CIB.config.features.enableShortShareUrl=dp),(ii||sw&&ti)&&(CIB.config.features.enableExtraExtensionParams=!0),yet&&(CIB.config.features.enableCustomGptSpecialGreeting=!0),ba&&(CIB.config.features.disableSuggestionsInCustomGpt=ba),ka&&(CIB.config.features.enableThreadsForAllGpts=ka),da&&(CIB.config.features.enableBingGptUploadFileAPI=da),ca&&(CIB.config.features.enableGptForMobileUnderside=ca)),tw&&(CIB.config.features.enableEnterToCreateNewLine=tw),CIB.config.features.enableUpdateLocationButton=hot,CIB.config.features.enableLocationMetaMessage=cot,CIB.config.features.enableNavigatorPermissionCheck=lot,CIB.config.features.enablePromptDirectlyForLocation=aot,iw&&(CIB.config.features.enableTextMessageDelayedFinalization=iw),rw&&(CIB.config.features.enableNewTopicButtonFeature=rw),cw&&(CIB.config.features.enableThumbsDownToSearchOnBing=cw),uw&&(CIB.config.features.enableChangeSidePanelVisibility=uw),lw&&(CIB.config.features.enableThreadContextMenuA11yBugFix=lw),aw&&(CIB.config.features.enableStopRespondingFocus=aw),gw&&(CIB.config.features.enableFeedbackCaptureFix=gw),CIB.config.features.disableTurnCountLocalAccount=!1,!nst||ii||!fw||gt||ti||(ni=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get("CUID","CUID"),ni&&(CIB.config.features.disableTurnCountLocalAccount=!0)),CIB.config.features.enableHiddenTurnCountLocalAccount=!1,!tst||ii||!fw||gt||ti||(ni=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get("CUID","CUID"),ni&&(CIB.config.features.enableHiddenTurnCountLocalAccount=!0)),CIB.config.links.locationLearnMore=ict,hi&&i(r.System,"ConfigsSet","Codex"),[2]}})})}function no(){var n=_w._sydConvConfig,i=t(n===null||n===void 0?void 0:n.enableGoldilocks,!0),r=t(n===null||n===void 0?void 0:n.enableGoldilocksRAIButton,!0),u=t(n===null||n===void 0?void 0:n.enableGoldilocksStrokes,!0),f=t(n===null||n===void 0?void 0:n.enableGoldiLocksBackgroundLight,!1),e=t(n===null||n===void 0?void 0:n.enableGoldilocksLineHeight,!0),o=t(n===null||n===void 0?void 0:n.enableGoldilocksMetaMessage,!0),s=t(n===null||n===void 0?void 0:n.enableGoldilocksAttributionPills,!0),h=t(n===null||n===void 0?void 0:n.enableGoldilocksMessageActions,!0),c=t(n===null||n===void 0?void 0:n.enableGoldilocksTurnCounter,!0),l=t(n===null||n===void 0?void 0:n.enableGoldilocksStrokes2T,!0),a=t(n===null||n===void 0?void 0:n.enableGoldilocksCitations,!0),v=t(n===null||n===void 0?void 0:n.enableGoldilocksWiderActionBar,!0),y=t(n===null||n===void 0?void 0:n.enableGoldilocksExportDropdown,!0),p=t(n===null||n===void 0?void 0:n.enableGoldilocksInlineFeedback,!0),w=t(n===null||n===void 0?void 0:n.enableGoldilocksUserMsgActionBar,!0),b=t(n===null||n===void 0?void 0:n.enableGoldilocksContextual,!0),it=t(n===null||n===void 0?void 0:n.enableGoldilocksSydneyAction,!0),k=t(n===null||n===void 0?void 0:n.enableGoldilocksPersistentMetas,!1),d=t(n===null||n===void 0?void 0:n.enableGoldilocksInlinePersistentMetas,!0),g=t(n===null||n===void 0?void 0:n.enableGoldilocksIdentity,!1),nt=t(n===null||n===void 0?void 0:n.enableGoldilocksCopilotGreetingFix,!0),tt=t(n===null||n===void 0?void 0:n.enableGoldilocksMuidConsent,!1);CIB.config.features.enableUserMsgActionBar=w;CIB.config.features.enableGoldilocks=i;CIB.config.features.enableGoldilocksRAIButton=r;CIB.config.features.enableGoldilocksStrokes=u;CIB.config.features.enableGoldiLocksBackgroundLight=f;CIB.config.features.enableGoldilocksLineHeight=e;CIB.config.features.enableGoldilocksMetaMessage=o;CIB.config.features.enableGoldilocksAttributionPills=s;CIB.config.features.enableGoldilocksMessageActions=h;CIB.config.features.enableGoldilocksTurnCounter=c;CIB.config.features.enableGoldilocksStrokes2T=l;CIB.config.features.enableGoldilocksCitations=a;CIB.config.features.enableGoldilocksWiderActionBar=v;CIB.config.features.enableGoldilocksExportDropdown=y;CIB.config.features.enableGoldilocksInlineFeedback=p;CIB.config.features.enableGoldilocksContextual=b;CIB.config.features.enableGoldilocksPersistentMetas=k;CIB.config.features.enableGoldilocksInlinePersistentMetas=d;CIB.config.features.enableGoldilocksBackgroundGpt=!1;CIB.config.features.enableGoldilocksIdentity=g;CIB.config.features.enableGoldilocksCopilotGreetingFix=nt;CIB.config.features.enableGoldilocksMuidConsent=tt}function to(){var n,t=(n=window===null||window===void 0?void 0:window.location)===null||n===void 0?void 0:n.origin;return t?t:hf}function io(t,u){if(t||u){var f=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get(n.userCook,di);(u||!f||f!=="1")&&(g=!0,CIB.config.speech.shouldReopenMicNotification=function(){i(r.System,"ShouldShowReopenMicNotification ","Voice",{isShown:g?"1":"0"});var t=g;return t&&sj_cook.set(n.userCook,di,"1",!0,"/",null),g=!1,t},CIB.config.speech.onReopenMicSettingUpdated=function(t){var u=t?"1":"0";i(r.System,"VoiceReopenSettingUpdated","Voice",{isEnabled:u});sj_cook.set(n.userCook,ki,u,!0,"/",null)})}}function ro(){if(CIB.onResetConversation)CIB.onResetConversation(function(){i(r.System,"ResetConversationTriggered","ChatMode","1")})}function cr(){var r=this,i,u=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableSydTestCache,!1);u&&"SydneyTestHelper"in _w&&(SydneyTestHelper.setTestConfigs(),sj_evt.bind("CHAT_MOCKED",function(t){var i=t&&t.length>1?t[1]:null;i&&(n.processCachedResponseUsingCIB=function(){return __awaiter(r,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return SydneyTestHelper.shouldWaitForAnswerScript()?[4,SydneyTestHelper.getAnswerScriptDefer().p]:[3,2];case 1:n.sent();n.label=2;case 2:return uo(i),[2]}})})})},!0))}function uo(n){var i,r,u=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableLoopNotebook,!1),f=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableNotebookMode,!1),e=new URLSearchParams(window.location.search),o=e.get("showntbk")==="1";u&&f&&o?sj_evt.bind("NotebookLoopInitialized",function(){CIB.processCachedResponse(n)},!0):CIB.processCachedResponse(n)}function fo(){var i,n=_w._sydConvConfig,r=t(n===null||n===void 0?void 0:n.enableInPrivateUserMode,!1),f=t(n===null||n===void 0?void 0:n.enableCopilotFullScreenUX,!1),e=t(n===null||n===void 0?void 0:n.enableNoScrollDownOnInit,!1),o=t(n===null||n===void 0?void 0:n.enableFormCodeBingUrl,!0),s=t(n===null||n===void 0?void 0:n.enableRelativeSignInUrl,!0),u=t(n===null||n===void 0?void 0:n.enableSuggestionItemEnterAnimation,!1),h=t(n===null||n===void 0?void 0:n.enableWowCDSSurvey,!1),c=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.isHeaderBackButtonEnabled,!1);r&&(CIB.config.features.enableInPrivateUserMode=r);f&&(CIB.config.mobile.isFullScreenEnabled=!0,CIB.config.features.enableThreadsPreview=!1,CIB.config.mobile.isHeaderBackButtonEnabled=c?!0:!1,CIB.config.features.enableThreadsHistoryIcon=!0);e&&(CIB.config.features.enableNoScrollDownOnInit=!0);o&&(CIB.config.features.enableFormCodeBingUrl=!0);s&&(CIB.config.bing.signIn.baseUrl=window.location.origin);u&&(CIB.config.features.enableSuggestionItemEnterAnimation=u);h&&(CIB.config.features.enableWowCDSSurvey=!0)}function lr(){var i,r,u,f=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableCodexWin,!1),e=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.codexWinCurrentTurn,0),o=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableCodexWinBotMessage,!1);f&&(sj_cook.set(n.userCook,oe,String(e+1),!0,"/",null),o&&(n.shouldForceSendBotGreeting=!0));sj_evt.unbind("showSydFSC",lr)}function eo(){var n,i=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableDM,!1);i&&CIB.changeColorScheme&&CIB.changeColorScheme(1)}function ar(){var n=Math.round(_d.documentElement.clientWidth||_w.innerWidth);return n<100&&(n=360),n}function vr(){var n=Math.round(_d.documentElement.clientHeight||_w.innerHeight);return n<100&&(n=636),n}function yr(){var n,t=(n=_G.Lang)!==null&&n!==void 0?n:"en",i=new URL("turing/convtranslation/".concat(t,".json"),window.location.origin);return i.href}function oo(){var t,f=yr(),i=document.querySelector("head"),r,n,u;i&&typeof i.appendChild=="function"&&((r=_ge("sydtranslpre"),r)||(n=sj_ce("link"),n)&&((n.setAttribute("rel","prefetch"),n.setAttribute("href",f),n.setAttribute("as","fetch"),n.setAttribute("id","sydtranslpre"),u=(t=performance===null||performance===void 0?void 0:performance.getEntriesByName(n.href))===null||t===void 0?void 0:t.length,u>0)||i.appendChild(n)))}function so(){var n;return __awaiter(this,void 0,void 0,function(){var t,i,r;return __generator(this,function(u){switch(u.label){case 0:t=(n=_G.Lang)!==null&&n!==void 0?n:"en";i=null;u.label=1;case 1:return u.trys.push([1,3,,4]),[4,ho(t)];case 2:return i=u.sent(),i?(wr(i),[2,!0]):(pr(t),[2,!1]);case 3:return r=u.sent(),pr(t,r),[2,!1];case 4:return[2]}})})}function pr(n,t){var r,u,f,e;t===void 0&&(t=null);f={lang:n,locationOrigin:(r=_d===null||_d===void 0?void 0:_d.location)===null||r===void 0?void 0:r.origin,locationPath:(u=_d===null||_d===void 0?void 0:_d.location)===null||u===void 0?void 0:u.pathname};e=t==null?"SydneyTranslationAjaxError":"SydneyTranslationAjaxException";i("CI.Error",e,"TranslationJson",f)}function ho(){return __awaiter(this,void 0,void 0,function(){var t,n,i;return __generator(this,function(r){switch(r.label){case 0:return t=yr(),[4,ui(t,"","GET")];case 1:return(n=r.sent(),n===null||n===void 0?void 0:n.response)?(i=JSON.parse(n.response),_w._sydConvTranslation=__assign(__assign({},_w._sydConvTranslation),i),[2,_w._sydConvTranslation]):[2]}})})}function wr(n){for(var r,t=0,i=Object.keys(n);t<i.length;t++)r=i[t],CIB.config.strings[r]=n[r]}function co(){var n,i=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.hideSignInUI,!1);CIB.config.features.enableMUIDUserMode=!0;CIB.config.features.enableSignInUpsellforMuidUser=i?!1:!0;br()}function br(){var n,i,r,u,f,e=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableBfbCookieConsent,!1),o=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableCodexMuidConsentTop,!1),s=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableCodexMuidConsentExplicit,!0),h=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableCodexMuidConsentImplicit,!1),c=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableCodexMuidConsentModal,!1),l=o||s||h||c;l&&(CIB.config.features.enableCodexMuidConsentTop=o,CIB.config.features.enableCodexMuidConsentInlineExplicit=s,CIB.config.features.enableCodexMuidConsentInlineImplicit=h,CIB.config.features.enableCodexMuidConsentModal=c,CIB.config.sydney.muidUserConsentGiven=e&&pt||nu(),CIB.onConsentGiven&&CIB.onConsentGiven(function(){ds();e&&BceSydneyHelper.updateBfbConsent()}))}function kr(){var n,i,r,u,f,o,s;return __awaiter(this,void 0,void 0,function(){var y,h,a,p,w,k,d,v,c,l,g,nt=this;return __generator(this,function(tt){switch(tt.label){case 0:if(y=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableThreads,!1),!y||rr)return[2];if(rr=!0,h=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableThreadsConsent,!1),a=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.threadsAutoSaveOptionset,b),p=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableFetchUserConsent,!0),w=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableThreadsConsentOnlyAutosave,!1),k=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableInlinePersonalizationConsentCallback,!1),d=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.isBingUserSignedIn,!1),CIB.config.features.enableThreadsConsent=h,CIB.config.features.enableThreadsConsentOnlyAutosave=!!w,h&&CIB.onAutosaveConsentChanged)CIB.onAutosaveConsentChanged(function(n){switch(n){case"Allowed":e(CIB.config.sydney.request.optionsSets,a);break;default:iu(CIB.config.sydney.request.optionsSets,a)}});return(h&&d&&(e(CIB.config.sydney.request.optionsSets,"enable_user_consent"),e(CIB.config.sydney.request.optionsSets,"fluxmemcst")),!(h&&p&&CIB.fetchConsent))?[3,2]:[4,CIB.fetchConsent()];case 1:return tt.sent(),[3,8];case 2:if(!(h&&CIB.getConsent&&CIB.updateConsent))return[3,8];tt.label=3;case 3:return tt.trys.push([3,7,,8]),[4,CIB.getConsent()];case 4:return(v=tt.sent(),c=v.consentSettings.autoSave,l=v.consentSettings.personalization,!(c&&l&&(c!=="Allowed"||l!=="Allowed")))?[3,6]:[4,CIB.updateConsent(c,l)];case 5:tt.sent();tt.label=6;case 6:return[3,8];case 7:return g=tt.sent(),[3,8];case 8:if(k&&CIB.onPersonalizationMessageRendered&&CIB.fetchConsent)CIB.onPersonalizationMessageRendered(function(){return __awaiter(nt,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return[4,CIB.fetchConsent()];case 1:return n.sent(),[2]}})})});return[2]}})})}function lo(){var i,n=_w._sydConvConfig,r=t(n===null||n===void 0?void 0:n.enableMultimediaSearch,!1),u=t(n===null||n===void 0?void 0:n.enableMultimediaSearchVideo,!1);if((r||u)&&((i=CIB.config.multimediaSearch)===null||i===void 0?void 0:i.query)){var c=t(n===null||n===void 0?void 0:n.isMobileHost,!1),e=t(n===null||n===void 0?void 0:n.multimediaSearchFormCode,"IACMIR"),o=t(n===null||n===void 0?void 0:n.multimediaSearchEnableMediaCanvas,!0),l=t(n===null||n===void 0?void 0:n.multimediaSearchMaxImageCount,5),a=t(n===null||n===void 0?void 0:n.multimediaSearchMaxVideoCount,3),v=t(n===null||n===void 0?void 0:n.multimediaSearchEnableCachedImages,!1),h=t(n===null||n===void 0?void 0:n.multimediaSearchOptionsSets,f);h&&(CIB.config.sydney.request.optionsSets=s(CIB.config.sydney.request.optionsSets,h));CIB.config.features.enableMultimediaSearch=r;CIB.config.features.enableMultimediaSearchVideo=u;CIB.config.multimediaSearch.maxImageCount=l;CIB.config.multimediaSearch.maxVideoCount=a;CIB.config.multimediaSearch.enableMediaCanvas=o;CIB.config.multimediaSearch.enableCachedImages=v;o&&c&&(CIB.config.multimediaSearch.query.view="detailV2",CIB.config.multimediaSearch.query.idpbck="1");e&&(CIB.config.multimediaSearch.query.form=e)}}function ao(){var n,i,r,u,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableVisualSearch,!1);if(tt){var rt=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.removeCameraInputForVisualSearch,!1),ut=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.dVSOC,!1),ft=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.aimgut,!1),it=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.visualSearchSubscriptionId,"Bing.Chat.Multimodal"),et=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.vsbtnicon,f),ot=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.vsbtniconfill,f),st=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.eifpiab,!0),ht=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.emwc,!1),ct=t((l=_w._sydConvConfig)===null||l===void 0?void 0:l.eufte,!1),lt=t((a=_w._sydConvConfig)===null||a===void 0?void 0:a.ecambar,!1),at=t((v=_w._sydConvConfig)===null||v===void 0?void 0:v.eaddimgbar,!1),vt=t((y=_w._sydConvConfig)===null||y===void 0?void 0:y.eaddimgicon,!1),yt=t((p=_w._sydConvConfig)===null||p===void 0?void 0:p.evsfre,!1),pt=t((w=_w._sydConvConfig)===null||w===void 0?void 0:w.ekrbu,!1),wt=t((b=_w._sydConvConfig)===null||b===void 0?void 0:b.evsptnr,!0),bt=t((k=_w._sydConvConfig)===null||k===void 0?void 0:k.evsdirurl,!1),kt=t((d=_w._sydConvConfig)===null||d===void 0?void 0:d.eimgsmkcard,!1),dt=t((g=_w._sydConvConfig)===null||g===void 0?void 0:g.efhof,!0),gt=t((nt=_w._sydConvConfig)===null||nt===void 0?void 0:nt.eprsusimg,!1);rt&&(CIB.config.features.enableCameraInputForVisualSearch=!1);ut&&(CIB.config.features.enableVisualSearchOrientationCheck=!1);pt&&(CIB.config.visualSearch.baseUrl=window.location.origin);CIB.config.features.enableVisualSearch=tt;CIB.config.features.enableImageFilePasteInActionBar=st;CIB.config.features.enableUnsupportedFileTypeError=ct;CIB.config.features.enableVisualSearchFRE=yt;CIB.config.features.enablePartnerVisualSearchUpload=wt;CIB.config.features.enableImageKnowledgeAnswerCards=kt;CIB.config.features.enableFlyoutHeaderOverlapFix=dt;CIB.config.features.enableProgressiveUnsanitizedUserImage=gt;CIB.config.visualSearch.allowImageOnlyUserTurn=ft;CIB.config.visualSearch.enableMobileWebCamera=ht;CIB.config.visualSearch.enableCameraInActionBar=lt;CIB.config.visualSearch.enableAttachImageInActionBar=at;CIB.config.visualSearch.sendPartnerImageUrlDirectlyToBot=bt;CIB.config.visualSearch.useImageAddIcon=vt;CIB.config.visualSearch.includeCredentialInXHRRequest=!0;CIB.config.visualSearch.flyoutButtonIcon=et;CIB.config.visualSearch.flyoutButtonFillIcon=ot;!it||(CIB.config.visualSearch.subscriptionId=it);wo();bo();ko()}}function vo(){var n,i,r,u,f,e,o,s,h,c;CIB.config.features.enableM365ConsumerPluginsCatalog=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableM365ConsumerPluginsCatalog,!1);CIB.config.features.enableM365ConsumerPluginHighPosition=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableM365ConsumerPluginHighPosition,!1);CIB.config.features.enableM365ConsumerPluginPrivacyProtection=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableM365ConsumerPluginPrivacyProtection,!1);CIB.config.features.enableM365AuthSkipSso=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableM365AuthSkipSso,!1);CIB.config.features.enableM365PluginsCustomData=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableM365PluginsCustomData,!1);CIB.config.features.enableM365OneDriveImageFilter=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enableM365OneDriveImageFilter,!1);h=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableM365consumerPlugin,!1);c=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableM365ConsumerPluginOneDrive,!1);h&&(CIB.config.features.enableM365consumerPlugin=!0,yo());c&&(CIB.config.features.enableM365ConsumerPluginOneDrive=!0,po())}function yo(){var n,i,r,u=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.m365ConsumerPluginAuthRedirectUri,"https://www.bing.com/chat");u&&(CIB.config.m365consumer.pluginAuth.redirectUri=u);CIB.config.m365consumer.pluginAuth.getClientId=function(){var n;return t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.m365ConsumerPluginClientId,"ef47e344-4bff-4e28-87da-6551a21ffbe0")};CIB.config.m365consumer.pluginAuth.getAuthority=function(){var n;return t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.m365ConsumerPluginAuthority,"https://login.windows-ppe.net/consumers")};CIB.config.m365consumer.pluginAuth.scope=[t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.m365ConsumerPluginAuthScope,"https://substrate.office.com/.default")];CIB.config.m365consumer.pluginAuth.showLoginPopup=!0;CIB.config.m365consumer.getOptionsSet=function(){var n;return t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.m365ConsumerPluginOptionsSet,"flux_m365consumer_dogfood")};CIB.config.m365consumer.pluginId=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.m365ConsumerOutlookPluginId,"d03ca482-c3c8-4b7c-ace3-b52857208916");CIB.config.m365consumer.substrateTokenExpiryTimeInHours=8}function po(){var n,i,r,u,f=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.m365ConsumerPluginAuthRedirectUri,"https://www.bing.com/chat");f&&(CIB.config.m365ConsumerOneDrive.pluginAuth.redirectUri=f);CIB.config.m365ConsumerOneDrive.pluginAuth.getClientId=function(){var n;return t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.m365ConsumerPluginClientId,"ef47e344-4bff-4e28-87da-6551a21ffbe0")};CIB.config.m365ConsumerOneDrive.pluginAuth.getAuthority=function(){var n;return t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.m365ConsumerPluginAuthority,"https://login.windows-ppe.net/consumers")};CIB.config.m365ConsumerOneDrive.pluginAuth.scope=[t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.m365ConsumerPluginAuthScope,"https://substrate.office.com/.default")];CIB.config.m365ConsumerOneDrive.pluginAuth.showLoginPopup=!0;CIB.config.m365ConsumerOneDrive.graphAuthScopes=[t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.m365ConsumerPluginGraphScope,"Files.Read.All")];CIB.config.m365ConsumerOneDrive.getOptionsSet=function(){var n;return t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.m365ConsumerPluginOneDriveOptionsSet,"flux_onedrive_dogfood")};CIB.config.m365ConsumerOneDrive.pluginId=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.m365ConsumerOneDrivePluginId,"1e1a2734-7a88-4c1c-be1d-a79907b177c0");CIB.config.m365consumer.substrateTokenExpiryTimeInHours=8}function wo(){var i,n=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.visualSearchRestrictedTonesList,null);(n===null||n===void 0?void 0:n.length)>0&&CIB.config.visualSearch&&(CIB.config.visualSearch.restrictedTones=[],n.forEach(function(n){CIB.config.visualSearch.restrictedTones.push(n.value)}))}function bo(){var i,n=CIB.config.visualSearch,t;((i=_w._sydConvConfig)===null||i===void 0?void 0:i.evssid)&&n&&(t=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get("_SS","SID"),t&&(n.query?n.query.SID=t:n.query={SID:t}))}function ko(){var n,i,r,f=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.evscamprd,!1),u=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.vscamprdname,"");f&&u&&((r=_w.SydneyCameraProviderFactory)===null||r===void 0?void 0:r.create(u))}function go(){var n,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableFixCodeXAsBug,!0),st=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableStableAutosuggestion,!0),ht=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableEndpointInASTelemetry,!1),ct=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableAutosuggestMetrics,!0),lt=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableCvidInAutosuggestAPI,!0),at=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enableAutoSuggestBackspaceFix,!1),vt=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableGhostingSuggestTelemetry,!0),yt=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableResetASProperties,!0),pt=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enableKSPQPropertiesTracking,!0),wt=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.enableAutoSuggestPerfMetrics,!1),bt=t((l=_w._sydConvConfig)===null||l===void 0?void 0:l.enableAutoSuggestPerfMetricP50,!1),kt=t((a=_w._sydConvConfig)===null||a===void 0?void 0:a.enableAutoSuggestPerfMetricP90,!1),dt=t((v=_w._sydConvConfig)===null||v===void 0?void 0:v.enableAutoSuggestPerfMetricAvgLatency,!1),gt=t((y=_w._sydConvConfig)===null||y===void 0?void 0:y.enableAutoSuggestPerfMetricQFT,!1),ni=t((p=_w._sydConvConfig)===null||p===void 0?void 0:p.enableReduceDebouncingAutosuggest,!1),ti=t((w=_w._sydConvConfig)===null||w===void 0?void 0:w.enableCachingAutosuggest,!0),ii=t((b=_w._sydConvConfig)===null||b===void 0?void 0:b.enableAcceptSuggestionOnRightArrow,!1),ri=t((k=_w._sydConvConfig)===null||k===void 0?void 0:k.enableShowAutosuggestButton,!0),ui=t((d=_w._sydConvConfig)===null||d===void 0?void 0:d.enableASCookieCheckToDisableGhosting,!1),fi=t((g=_w._sydConvConfig)===null||g===void 0?void 0:g.maxCacheLength,pe),ei=t((nt=_w._sydConvConfig)===null||nt===void 0?void 0:nt.enableAutoSuggestMidQueryFix,!1),oi=t((tt=_w._sydConvConfig)===null||tt===void 0?void 0:tt.enableAutoSuggestPerfMetricBackendLatency,!1),si=t((it=_w._sydConvConfig)===null||it===void 0?void 0:it.enableTrackingAutosuggestCacheHit,!1),hi=t((rt=_w._sydConvConfig)===null||rt===void 0?void 0:rt.enableTrackingAutosuggestAcceptanceRate,!1),ci=t((ut=_w._sydConvConfig)===null||ut===void 0?void 0:ut.enableTrackUserTypingSpeed,!1),li=t((ft=_w._sydConvConfig)===null||ft===void 0?void 0:ft.enableTrackUserAcceptanceRate,!1),ai=t((et=_w._sydConvConfig)===null||et===void 0?void 0:et.enableThresholdForTypingSpeed,!1);CIB.config.features.enableFixCodeXAsBug=ot;CIB.config.features.enableStableAutosuggestion=st;CIB.config.features.enableEndpointInASTelemetry=ht;CIB.config.features.enableAutosuggestMetrics=ct;CIB.config.features.enableCvidInAutosuggestAPI=lt;CIB.config.features.enableAutoSuggestBackspaceFix=at;CIB.config.features.enableGhostingSuggestTelemetry=vt;CIB.config.features.enableResetASProperties=yt;CIB.config.features.enableKSPQPropertiesTracking=pt;CIB.config.features.enableReduceDebouncingAutosuggest=ni;CIB.config.features.enableCachingAutosuggest=ti;CIB.config.features.enableAcceptSuggestionOnRightArrow=ii;CIB.config.features.enableShowAutosuggestButton=ri;CIB.config.features.enableASCookieCheckToDisableGhosting=ui;CIB.config.suggestions.maxCacheLength=fi;CIB.config.features.enableAutoSuggestMidQueryFix=ei;CIB.config.features.enableTrackUserTypingSpeed=ci;CIB.config.features.enableTrackUserAcceptanceRate=li;CIB.config.features.enableThresholdForTypingSpeed=ai;CIB.config.features.enableAutoSuggestPerfMetrics=wt;CIB.config.features.enableAutoSuggestPerfMetricP50=bt;CIB.config.features.enableAutoSuggestPerfMetricP90=kt;CIB.config.features.enableAutoSuggestPerfMetricAvgLatency=dt;CIB.config.features.enableAutoSuggestPerfMetricQFT=gt;CIB.config.features.enableAutoSuggestPerfMetricBackendLatency=oi;CIB.config.features.enableTrackingAutosuggestCacheHit=si;CIB.config.features.enableTrackingAutosuggestAcceptanceRate=hi}function ns(n){var u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,st=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableFileUpload,!1),ht=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableFileUploadPrivacyMessage,!1),ct=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enableMobileFileUpload,!1),lt=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableFileUploadWebPageUrlInput,!1),at=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableFileUploadContextInThreads,!1),vt=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enableTextFilePasteInActionBar,!0),yt=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.enableFileUploadForAllModes,!0),pt=t((l=_w._sydConvConfig)===null||l===void 0?void 0:l.enableFileUploadDirect,!1),wt=t((a=_w._sydConvConfig)===null||a===void 0?void 0:a.enableFileUploadOfficeFilesSupport,!1),bt=t((v=_w._sydConvConfig)===null||v===void 0?void 0:v.enableFileUploadAudioSupport,!1),kt=t((y=_w._sydConvConfig)===null||y===void 0?void 0:y.enableFileUploadPDFSupportByKED,!1),dt=t((p=_w._sydConvConfig)===null||p===void 0?void 0:p.enableFileUploadAnyTypeSupport,!1),gt=t((w=_w._sydConvConfig)===null||w===void 0?void 0:w.fileSizeLimitation,lf),ni=t((b=_w._sydConvConfig)===null||b===void 0?void 0:b.audioFileSizeLimitation,af),et=t((k=_w._sydConvConfig)===null||k===void 0?void 0:k.fileSizeLimitationPro,vf),ti=t((d=_w._sydConvConfig)===null||d===void 0?void 0:d.fileUploadFileNameLengthLimitation,yf),ii=t((g=_w._sydConvConfig)===null||g===void 0?void 0:g.fileMaxCountForGptCreator,pf),ri=t((nt=_w._sydConvConfig)===null||nt===void 0?void 0:nt.fileMaxCountForChat,wf),ui=t((tt=_w._sydConvConfig)===null||tt===void 0?void 0:tt.enableFileUploadNewUploadFileAPI,!0),fi=t((it=_w._sydConvConfig)===null||it===void 0?void 0:it.disableFileUploadOptionSets,!1),ei=t((rt=_w._sydConvConfig)===null||rt===void 0?void 0:rt.enableSydFileUploadPartnerUpload,!0),ot=t((ut=_w._sydConvConfig)===null||ut===void 0?void 0:ut.enableSydFileUploadMaxSizeTiers,!1),oi=t((ft=_w._sydConvConfig)===null||ft===void 0?void 0:ft.enableSydFileUploadDynamicOptionSets,!1),i,r;st&&(CIB.config.features.enableFileUpload=!0,ct&&(CIB.config.features.enableMobileFileUpload=!0));ht&&(CIB.config.features.enableFileUploadPrivacyMessage=!0);lt&&(CIB.config.features.enableFileUploadWebPageUrlInput=!0);at&&(CIB.config.features.enableFileUploadContextInThreads=!0);vt&&(CIB.config.features.enableTextFilePasteInActionBar=!0);yt&&(CIB.config.features.enableFileUploadForAllModes=!0);pt&&(CIB.config.features.enableFileUploadDirect=!0);wt&&(CIB.config.features.enableFileUploadOfficeFilesSupport=!0,typeof CIB.config.features.enableFileUploadDocxSupport!="undefined"&&(CIB.config.features.enableFileUploadDocxSupport=!0));bt&&(CIB.config.features.enableFileUploadAudioSupport=!0);kt&&(CIB.config.features.enableFileUploadPDFSupportByKED=!0);dt&&(CIB.config.features.enableFileUploadAnyTypeSupport=!0);ui&&(CIB.config.features.enableSydneyUploadFileAPI=!0);ei&&(CIB.config.features.enablePartnerFileUpload=!0);fi&&CIB.config.fileUpload&&(CIB.config.fileUpload.extraOptionsSetV2=[]);oi&&(CIB.config.fileUpload.extraOptionsSetV2=["ldsummary_d","ldqa_d","sdretrieval_d"]);CIB.config.fileUpload&&(i=ot&&n?et:gt,r=ot&&n?et:ni,CIB.config.fileUpload.audioFileSizeLimitation=r,CIB.config.fileUpload.fileSizeLimitationLongContext=i,CIB.config.fileUpload.fileSizeLimitation=i,CIB.config.fileUpload.fileSizeLimitationForChat=i,CIB.config.fileUpload.audioFileSizeLimitationForChat=r,CIB.config.fileUpload.fileSizeLimitationForGptCreator=i,CIB.config.fileUpload.audioFileSizeLimitationForGptCreator=r,CIB.config.fileUpload.fileNameLengthLimitation=ti,CIB.config.fileUpload.fileMaxCountForGptCreator=ii,CIB.config.fileUpload.fileMaxCountForChat=ri,ts())}function ts(){var r,u,n=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.azureAIDocumentAnalysisFileExtensions,bf),i=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.audioFileExtensions,kf);(n===null||n===void 0?void 0:n.length)>0&&CIB.config.features.enableFileUploadOfficeFilesSupport&&(CIB.config.fileUpload.azureAIDocumentAnalysisFileExtensions=[],n.forEach(function(n){CIB.config.fileUpload.azureAIDocumentAnalysisFileExtensions.push(n.value)}));(i===null||i===void 0?void 0:i.length)>0&&CIB.config.features.enableFileUploadAudioSupport&&(CIB.config.fileUpload.audioFileExtensions=[],i.forEach(function(n){CIB.config.fileUpload.audioFileExtensions.push(n.value)}))}function is(){var f,o,s,h,c,l,a,v,y,p,w,k,d,g,nt,tt,rt=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableShareWholeThreadMockUp,!1),ut=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableThreadShareLandingPage,!1),ft=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableShareConversation,!0),et=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enableShareThreadWithNoCache,!1),ot=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.enableWholeThreadPerformanceFix,!1),st=t((l=_w._sydConvConfig)===null||l===void 0?void 0:l.enableShareCurrentThreadMessagesfromAPI,!0),ht=t((a=_w._sydConvConfig)===null||a===void 0?void 0:a.enableThreadShareWithoutRenderCardRequest,!1),ct=t((v=_w._sydConvConfig)===null||v===void 0?void 0:v.enableGetConversationAPIWithSNRProxy,!0),lt=t((y=_w._sydConvConfig)===null||y===void 0?void 0:y.enableBICHistory,!0),at=t((p=_w._sydConvConfig)===null||p===void 0?void 0:p.enable2TScreenshot,!1),vt=t((w=_w._sydConvConfig)===null||w===void 0?void 0:w.enable2TScreenshotSnR,!1),it=t((k=_w._sydConvConfig)===null||k===void 0?void 0:k.enableThreads,!1),wt=t((d=_w._sydConvConfig)===null||d===void 0?void 0:d.enableThreadsCF,!1),yt=t((g=_w._sydConvConfig)===null||g===void 0?void 0:g.enableThreadsCopilotMobileUpsell,!1),n,u,pt;if(rt&&(CIB.config.features.enableShareWholeThreadMockUp=rt),ut&&(CIB.config.features.enableThreadShareLandingPage=ut),ft&&(CIB.config.features.enableShareConversation=ft),et&&(CIB.config.features.enableShareThreadWithNoCache=et),ot&&(CIB.config.features.enableWholeThreadPerformanceFix=ot),st&&(CIB.config.features.enableShareCurrentThreadMessagesfromAPI=st),ht&&(CIB.config.features.enableThreadShareWithoutRenderCardRequest=ht),ct&&(CIB.config.features.enableGetConversationAPIWithSNRProxy=ct),lt&&(CIB.config.features.enableBICHistory=lt),at&&(CIB.config.features.enableAnswerScreenshot=at),vt&&(CIB.config.features.enableAnswerScreenshotSnR=vt,CIB.config.sydney.request.conversationHistoryOptionsSets=e(CIB.config.sydney.request.conversationHistoryOptionsSets,"upshres")),yt&&(CIB.config.features.enableThreadsCopilotMobileUpsell=yt),it){if(CIB.config.features.enableThreads=it,n=t((nt=_w._sydThreads)===null||nt===void 0?void 0:nt.threads,null),n&&n.length>0)for(u=0;u<n.length;u++)CIB.addThread(n[u]);pt=t((tt=_w._sydConvConfig)===null||tt===void 0?void 0:tt.threadsAutoSaveOptionset,b);e(CIB.config.sydney.request.optionsSets,pt)}(it||wt)&&i(r.System,"THREADS","1","1");CIB.config.sydney.request.scenario!=="SERP"&&kr()}function rs(){var n,i,r,u,f,e,o,s,h,c=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableFullScreenUX,!1),l=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableCopilotDrawer,!1),a=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.isHeaderBackButtonEnabled,!1),v=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.isHeaderCloseButtonEnabled,!1),y=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableActivityIconsFromContextMenu,!1),p=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.disableHeaderBarReturnIcon,!1),w=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableMobileLeftPanel,!1),b=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableHideGPTsInSidePanel,!1),k=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enableGoldiLocksV2Background,!1);c&&(CIB.config.mobile.isFullScreenEnabled=!0);l&&(CIB.config.features.enableCopilotDrawer=!0);v&&(CIB.config.features.isHeaderCloseButtonEnabled=!0);a&&(CIB.config.mobile.isHeaderBackButtonEnabled=!0);y&&(CIB.config.features.enableActivityIconsFromContextMenu=!0);p&&(CIB.config.features.disableHeaderBarReturnIcon=!0);w&&(CIB.config.features.enableMobileLeftPanel=!0);b&&(CIB.config.features.enableHideGPTsInSidePanel=!0);k&&(CIB.config.features.enableGoldiLocksV2Background=!0)}function us(){var n=_w._sydConvConfig,i;if(CIB.config.suggestions.isEnabled=t(n===null||n===void 0?void 0:n.enableAutoSuggest,!0),CIB.config.features.enableUserChatBubbles=t(n===null||n===void 0?void 0:n.enableUserChatBubbles,!1),CIB.config.features.enableSimplificationBackground=t(n===null||n===void 0?void 0:n.enableSimplificationBackground,!1),CIB.config.features.enableSuggestions=t(n===null||n===void 0?void 0:n.enableSuggestions,!0),CIB.config.features.enableBotMessageActionsBarV3=t(n===null||n===void 0?void 0:n.enableBotMessageActionsBarV3,!1),CIB.config.features.enableThumbFeedbackInOverflow=t(n===null||n===void 0?void 0:n.enableThumbFeedbackInOverflow,!1),CIB.config.features.enableChromaTheme=t(n===null||n===void 0?void 0:n.enableChromaTheme,!1),CIB.config.features.enableCircularTypingIndicator=t(n===null||n===void 0?void 0:n.enableCircularTypingIndicator,!1),CIB.config.features.enableFrostedConversationFades=t(n===null||n===void 0?void 0:n.enableFrostedConversationFades,!1),CIB.config.features.enableDynamicConversationBackground=t(n===null||n===void 0?void 0:n.enableDynamicConversationBackground,!1),CIB.config.features.enableConsistentDesktopTypography=t(n===null||n===void 0?void 0:n.enableConsistentDesktopTypography,!1),CIB.config.features.enableHeaderDesktop=t(n===null||n===void 0?void 0:n.enableHeaderDesktop,!1),CIB.config.features.enableToneSelectorInDesktopHeader=t(n===null||n===void 0?void 0:n.enableToneSelectorInDesktopHeader,!1),CIB.config.features.enableToneSelectorAsDropdown=t(n===null||n===void 0?void 0:n.enableToneSelectorAsDropdown,!1),CIB.config.features.enableCenteredGreetingZeroInput=t(n===null||n===void 0?void 0:n.enableCenteredGreetingZeroInput,!1),CIB.config.features.enableNotebookHeaderDesktop=t(n===null||n===void 0?void 0:n.enableNotebookHeaderDesktop,!1),CIB.config.features.enableSidePanelAlignedStart=t(n===null||n===void 0?void 0:n.enableSidePanelAlignedStart,!1),CIB.config.features.enableSidePanelSimplified=t(n===null||n===void 0?void 0:n.enableSidePanelSimplified,!1),CIB.config.features.enableSidePanelCustomScrollbars=t(n===null||n===void 0?void 0:n.enableSidePanelCustomScrollbars,!1),CIB.config.features.enableHideActionBarNewTopic=t(n===null||n===void 0?void 0:n.enableHideActionBarNewTopic,!1),CIB.config.features.enableHideSerpFeedback=t(n===null||n===void 0?void 0:n.enableHideSerpFeedback,!1),CIB.config.features.enableSubtleThreadItems=t(n===null||n===void 0?void 0:n.enableSubtleThreadItems,!1),CIB.config.features.enableSubtleGptItems=t(n===null||n===void 0?void 0:n.enableSubtleGptItems,!1),CIB.config.features.enableNotebookInSidePanelFooter=t(n===null||n===void 0?void 0:n.enableNotebookInSidePanelFooter,!1),CIB.config.features.enableGPTInSidePanelFooter=t(n===null||n===void 0?void 0:n.enableGPTInSidePanelFooter,!1),CIB.config.features.enableResetPersonaOnNewConversation=t(n===null||n===void 0?void 0:n.enableResetPersonaOnNewConversation,!1),CIB.config.features.enablePluginsInSidePanelFooter=t(n===null||n===void 0?void 0:n.enablePluginsInSidePanelFooter,!1),CIB.config.features.enablePluginsGridLayout=t(n===null||n===void 0?void 0:n.enablePluginsGridLayout,!1),CIB.config.features.enableCircularSrcCitations=t(n===null||n===void 0?void 0:n.enableCircularSrcCitations,!1),CIB.config.features.enableCircularSrcAttributions=t(n===null||n===void 0?void 0:n.enableCircularSrcAttributions,!1),CIB.config.features.enableHideLearnMoreAttributionLabel=t(n===null||n===void 0?void 0:n.enableHideLearnMoreAttributionLabel,!1),CIB.config.features.enableSimplifiedHoverCard=t(n===null||n===void 0?void 0:n.enableSimplifiedHoverCard,!1),CIB.config.features.enableHoverCardAlignedAbove=t(n===null||n===void 0?void 0:n.enableHoverCardAlignedAbove,!1),CIB.config.features.enableWideBadges=t(n===null||n===void 0?void 0:n.enableWideBadges,!1),i=t(n===null||n===void 0?void 0:n.enableHideInternalSearchQuery,!1),i){var r=CIB.config.sydney.request.allowedMessageTypes,u="InternalSearchQuery",f=r.filter(function(n){return n!==u});CIB.config.sydney.request.allowedMessageTypes=f}CIB.config.features.enableSimplifiedMetas=t(n===null||n===void 0?void 0:n.enableSimplifiedMetas,!1);CIB.config.features.enableActionBarComposerInput=t(n===null||n===void 0?void 0:n.enableActionBarComposerInput,!1);CIB.config.features.enableSimplifiedFRE=t(n===null||n===void 0?void 0:n.enableSimplifiedFRE,!1)}function fs(n){var i=_w._sydConvConfig,l=t(i===null||i===void 0?void 0:i.country,!1),a=t(i===null||i===void 0?void 0:i.countryConfidence,!1),v=t(i===null||i===void 0?void 0:i.state,!1),y=t(i===null||i===void 0?void 0:i.city,!1),p=t(i===null||i===void 0?void 0:i.cityConfidence,!1),w=t(i===null||i===void 0?void 0:i.zip,!1),b=t(i===null||i===void 0?void 0:i.timezoneoffset,!1),tt=t(i===null||i===void 0?void 0:i.enableTimezoneOffsetFromJS,!1),k=t(i===null||i===void 0?void 0:i.dma,!1),d=t(i===null||i===void 0?void 0:i.lat,!1),g=t(i===null||i===void 0?void 0:i.long,!1),it=t(i===null||i===void 0?void 0:i.userIpAddress,f),nt=t(i===null||i===void 0?void 0:i.isCompliantSydneyEndpointEnabled,!1),rt=t(i===null||i===void 0?void 0:i.enableSydCLOC,!0),ut=t(i===null||i===void 0?void 0:i.enableUserIpAddress,!0),r={},c,e,o,s,h,u;l&&(r.country=l);v&&(r.state=v);y&&(r.city=y);w&&(r.zipcode=w);tt||nt?r.timezoneoffset=-((new Date).getTimezoneOffset()/60):b&&(r.timezoneoffset=parseFloat(b));k&&(r.dma=k);d&&(r.latitude=parseFloat(d));g&&(r.longitude=parseFloat(g));a&&(r.countryConfidence=a);p&&(r.cityConfidence=p);nt?(c=Intl.DateTimeFormat().resolvedOptions().timeZone,c&&(r.timezone=c),CIB.config.sydney.message.locationInfo=r):n&&typeof n.locations!="undefined"&&typeof n.locations.locationsList!="undefined"?typeof SydneyFSCLocationHelper!="undefined"&&typeof SydneyFSCLocationHelper.writeToLocationHints!="undefined"&&SydneyFSCLocationHelper.writeToLocationHints(n):n&&typeof n.cookLoc!="undefined"?(e=[],n.cookLoc.userLoc&&(o=ni(n.cookLoc.userLoc,!1),o.RegionType=1,o.SourceType=2,o.FDConfidence=1,e.push(o)),n.cookLoc.deviceLoc&&(s=ni(n.cookLoc.deviceLoc,!1),s.RegionType=2,s.SourceType=5,e.push(s)),rt&&n.cookLoc.coarseLoc&&(h=ni(n.cookLoc.coarseLoc,!1),h.RegionType=2,h.SourceType=11,e.push(h)),u=r,u.Center={Latitude:u.latitude,Longitude:u.longitude},delete u.latitude,delete u.longitude,u.RegionType=2,u.SourceType=1,e.push(u),CIB.config.sydney.message.locationHints=e):CIB.config.sydney.message.locationinfo=r;ut&&(CIB.config.sydney.message.userIpAddress=it);CIB.config.sydney.message.timestamp=oh()}function es(){var n=_w._sydConvConfig,i=t(n===null||n===void 0?void 0:n.enableAttributionImages,!1),r=t(n===null||n===void 0?void 0:n.enableAttributionImagesWhenAdsPresent,!1),u=t(n===null||n===void 0?void 0:n.enableAttributionImagesCarousel,!1),f=t(n===null||n===void 0?void 0:n.enableAttributionImagesClickthrough,!1),e=t(n===null||n===void 0?void 0:n.enableAttributionVideos,!1);i&&(CIB.config.features.enableAttributionImages=i);r&&(CIB.config.features.enableAttributionImagesWhenAdsPresent=r);u&&(CIB.config.features.enableAttributionImagesCarousel=u);f&&(CIB.config.features.enableAttributionImagesClickthrough=f);e&&(CIB.config.features.enableAttributionVideos=e)}function os(){var n,i,r,u=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableTypingIndicatorAnimation,!1),f=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableTypingIndicatorDemoteStyle,!1),e=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.typingIndicatorAnimationDuration,re);u&&(CIB.config.features.enableTypingIndicatorAnimation=!0,CIB.config.messaging.typingIndicatorAnimationDuration=e);f&&(CIB.config.features.enableTypingIndicatorDemoteStyle=!0)}function ss(){var n,i,r,u,f,o,s,h=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableVisualCardCitation,!1),c=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableVisualCardStreaming,!1),l=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableVisualCardLayout,!1),a=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableAnswerCardGrounding,!1),v=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableAnswerCardInMessage,!1),y=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableAnswerCardRenderingInChat,!1),p=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableAnswerCardGroundingSpc,!1);h&&e(CIB.config.sydney.request.optionsSets,"flxsrchv16");c&&e(CIB.config.sydney.request.optionsSets,"envisualcd");l&&e(CIB.config.sydney.request.optionsSets,"visualacf");a&&e(CIB.config.sydney.request.optionsSets,"enacf");p&&e(CIB.config.sydney.request.optionsSets,"enacfspc");v&&e(CIB.config.sydney.request.optionsSets,"fluxwpaic");y&&(CIB.config.features.enableAnswerCardRendering=!0)}function hs(){var n,i,r,u,f,e,o,s,c=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableAdSlugsDesktop,!1),l=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableAdSlugsMobile,!0),a=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableDevFormOverrideForAds,!1),h=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.codexPartnerScenario,"SERP"),v=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableRenderChatAdsOnSerp,!1),y=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.disableHoverAdsClickout,!1),p=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableUniqueSlotId,!1),w=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableConversationHistoryForAds,!1);c&&(CIB.config.features.enableAdSlugsDesktop=!0);l&&(CIB.config.features.enableAdSlugsMobile=!0);a&&(CIB.config.features.enableDevFormOverrideForAds=!0);h!==""&&(CIB.config.sydney.request.scenario=h);v&&(CIB.config.features.enableSlottedContentForAds=!0,CIB.config.features.enableSlottedContentForInlineAds=!0);w&&(CIB.config.features.enableSendConversationHistoryForAds=!0);y&&(CIB.config.features.enableApplyLinkToHoverAds=!1);p&&(CIB.config.features.enableUniqueSlotId=!0);CIB.config.features.enableInlineAdsDynamicWidth=!0;CIB.config.features.enableSearchQueryForInlineAds=!0;CIB.config.features.enableFixForInlineAdsSQ=!0;CIB.config.features.enableInlineAdsProcessingV2=!0;CIB.config.features.enableInlineAdsContainer=!0}function cs(){var n=_w._sydConvConfig,u=t(n===null||n===void 0?void 0:n.enableShopgptWebcomponents,!1),r,i;u&&(CIB.config.features.enableInlineComponents=!0,CIB.config.features.enableDynamicWebcomponent=!0);r=t(n===null||n===void 0?void 0:n.enableShopgptShoppingSkills,!1);r&&(i=t(n===null||n===void 0?void 0:n.shopgptShoppingSkillsOptionset,""),i&&e(CIB.config.sydney.request.optionsSets,i))}function ls(){var n,i,r,u,e,o,s,h,c,l,a=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableSydneySapphireUpsellMessageActions,!1),v=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableSydneySapphireUpsellEndOfChat,!1),y=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableSydneySapphireUpsellVisualSearch,!1),p=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.sydneySapphireUpsellTreatment,0),w=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.isAccountLinkedWithActiveAAD,!1),b=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.sydneyContinueOnPhoneShortenQRCodeUrl,"https://bingapp.microsoft.com/bing?style=newbing&adjust=euhmno2_oy62nz1"),k=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.sydSapphireUpsellVisualSearchQRCodeUrl,"https://bingapp.microsoft.com/bing?adjust=13uz7blz_13evwnmy"),d=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enableCopilotAppUpsellFlyOnHeader,!1),g=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.copilotAppUpsellQRUrl,f);a&&!w&&(CIB.config.features.enableSydSapphireUpsellOnMessageActions=a,CIB.config.mobileUpsell.sydSapphireUpsellTreatment=p,CIB.config.mobileUpsell.qrCodeBaseUrl=b);v&&(CIB.config.features.enableSydSapphireUpsellOnEndOfChat=v,CIB.config.mobileUpsell.sydSapphireUpsellTreatment=p);y&&(CIB.config.features.enableSydSapphireUpsellVisualSearch=y,CIB.config.mobileUpsell.qrCodeVisualSearchUrl=k);d&&(CIB.config.features.enableMobileUpsellFlyoutOnHeaderBar=!0,CIB.config.features.enableMobileUpsellButtonOnHeaderBar=t((l=_w._sydConvConfig)===null||l===void 0?void 0:l.enableMobileUpsellButtonOnHeaderBar,!0),CIB.config.mobileUpsell.enableFlyoutCTAButton=!0,CIB.config.mobileUpsell.flyoutQRUrl=g)}function as(){var i,r,u,f,e,o,h,l=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.sydOptionSets,!1),a=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.isSydCorpnet,!1),v=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.noInitOpts,!1),y=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.extraSappOptions,""),p=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.extraEdgeOptions,""),w=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.extraBceOptions,""),k=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.removeDeepleo,!1),d=new URLSearchParams(_w.location.search.toLowerCase()),b=d.get(bu.toLowerCase()),n,c;(v||l!=""||a&&b||y||p||w)&&(n=v?[]:CIB.config.sydney.request.optionsSets,n=s(n,l),a&&(n=s(n,b)),n=s(n,y),n=s(n,p),n=s(n,w),k&&(c=n.indexOf("deepleo"),c>=0&&n.splice(c,1)),CIB.config.sydney.request.optionsSets=n)}function dr(t,i){if(i)return[{tone:n.CREATIVE_TONE},{tone:n.BALANCED_TONE},{tone:n.PRECISE_TONE}];switch(t){case ToneTier.LOW:return[];case ToneTier.MEDIUM:case ToneTier.HIGH:default:return[{tone:n.CREATIVE_TONE},{tone:n.BALANCED_TONE},{tone:n.PRECISE_TONE}]}}function vs(n,t){return __awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(){return i={LocaleInfo:{Market:_G.Mkt,Language:_G.Lang,Region:_G.Region}},[2,fetch("turing/systemmetadata?"+new URLSearchParams({request:JSON.stringify(i)})).then(function(n){return n.json()}).then(function(i){var r;return((r=i===null||i===void 0?void 0:i.enabledTones)===null||r===void 0?void 0:r.length)>0?i.enabledTones.map(function(n){return{tone:n}}):dr(n,t)})["catch"](function(){return dr(n,t)})]})})}function gr(){var i,r,e,o,s,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ft,et,ot,st,ht,ct;return __awaiter(this,void 0,void 0,function(){var pt,ei,oi,dt,si,lt,wt,bt,kt,gt,ni,ti,ii,at,vt,yt,ri,ui,fi,hi,ci;return __generator(this,function(li){switch(li.label){case 0:return(pt=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.toneDefault,((r=_w._sydConvConfig)===null||r===void 0?void 0:r.isCCP)?n.CREATIVE_TONE:n.BALANCED_TONE),ei=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.userPriorityLevel,999),oi=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableUserPriorityLevel,!1),dt=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableTonePerf,!0),si=t((l=_w._sydConvConfig)===null||l===void 0?void 0:l.shareLoadingUI,!0),h=t((a=_w._sydConvConfig)===null||a===void 0?void 0:a.enableNoToneOpt,!1),si&&(CIB.config.features.enableShareLoadingUI=!0),lt=!oi||ei>0,wt=lt?t((v=_w._sydConvConfig)===null||v===void 0?void 0:v.balTone,""):"harmonyv3",bt=t((y=_w._sydConvConfig)===null||y===void 0?void 0:y.crtTone,"h3imaginative"),kt=t((p=_w._sydConvConfig)===null||p===void 0?void 0:p.prcTone,"h3precise"),gt=t((w=_w._sydConvConfig)===null||w===void 0?void 0:w.sydBalOpts,f),ni=t((b=_w._sydConvConfig)===null||b===void 0?void 0:b.sydCrtOpts,f),ti=t((k=_w._sydConvConfig)===null||k===void 0?void 0:k.sydPrcOpts,f),ii="clgalileo",at=lt?t((d=_w._sydConvConfig)===null||d===void 0?void 0:d.sydBalExtraOpts,f):"",vt=lt?t((g=_w._sydConvConfig)===null||g===void 0?void 0:g.sydCrtExtraOpts,ii):"",yt=lt?t((nt=_w._sydConvConfig)===null||nt===void 0?void 0:nt.sydPrcExtraOpts,ii):"",gt&&(at+=(at!==""?",":"")+gt),ni&&(vt+=(vt!==""?",":"")+ni),ti&&(yt+=(yt!==""?",":"")+ti),at&&(c.Balanced=at.split(",")),vt&&(c.Creative=vt.split(",")),yt&&(c.Precise=yt.split(",")),(wt||h&&wt=="")&&(u[n.BALANCED_TONE]=wt),(bt||h&&bt=="")&&(u[n.CREATIVE_TONE]=bt),(kt||h&&kt=="")&&(u[n.PRECISE_TONE]=kt),dt&&(CIB.config.features.enableTonePerf=dt),CIB.config.features.enableGPT4TurboSwitch=t((tt=_w._sydConvConfig)===null||tt===void 0?void 0:tt.enableGPT4TurboSwitch,!1),CIB.config.features.enableResponseToneSelector=!0,CIB.config.features.enablePersistentResponseToneSelector=t((it=_w._sydConvConfig)===null||it===void 0?void 0:it.enablePersistentToneSelector,!1),CIB.config.features.enableResponseToneObjects=(ft=(rt=_w._sydConvConfig)===null||rt===void 0?void 0:rt.enableSuppressTones)!==null&&ft!==void 0?ft:!1,CIB.config.features.enableResponseToneColorThemes=!0,ri=Object.keys(u),ui=(et=_w._sydConvConfig.isCCP)!==null&&et!==void 0?et:!1,fi=!ui&&t((ot=_w._sydConvConfig)===null||ot===void 0?void 0:ot.enableTierLoadBalancing,!1),hi=t((st=_w._sydConvConfig)===null||st===void 0?void 0:st.loadUserTier,"Low"),!((ht=_w._sydConvConfig)===null||ht===void 0?void 0:ht.enableSuppressTones))?[3,6]:fi?(ci=t((ct=_w._sydConvConfig)===null||ct===void 0?void 0:ct.isBingUserSignedIn,!1),!ci)?[3,2]:[4,vs(hi,ui).then(function(t){var i,r;CIB.config.sydney.responseTones=(t===null||t===void 0?void 0:t.length)==1&&((i=t[0])===null||i===void 0?void 0:i.tone)===n.BALANCED_TONE?[]:t;r=t===null||t===void 0?void 0:t.map(function(n){return n.tone});Object.keys(u).map(function(n){r.includes(n)||delete u[n]});r.includes(pt)?ut(pt):ut(n.BALANCED_TONE)})]:[3,4];case 1:return li.sent(),[3,3];case 2:Object.keys(u).map(function(t){t!=n.BALANCED_TONE&&delete u[t]});CIB.config.sydney.responseTones=[];ut(n.BALANCED_TONE);li.label=3;case 3:return[3,5];case 4:CIB.config.sydney.responseTones=ri.map(function(n){var t,i,r=(i=(t=_w._sydConvConfig)===null||t===void 0?void 0:t["suppressKnob".concat(n)])!==null&&i!==void 0?i:0;return{tone:n,disabled:r}});li.label=5;case 5:return[3,7];case 6:CIB.config.sydney.responseToneOptions=ri;li.label=7;case 7:return fi||ut(pt),ih(),[2]}})})}function kt(i){var r,u,f,e,o,s;(t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableSyntheticStreamSpeedBasedOnTone,!0)&&(i===n.BALANCED_TONE&&(CIB.config.messaging.messageBufferWorkerStreamDelayMS=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.syntheticStreamSpeedForBalancedTone,15)),i===n.CREATIVE_TONE&&(CIB.config.messaging.messageBufferWorkerStreamDelayMS=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.syntheticStreamSpeedForCreativeTone,at)),i===n.PRECISE_TONE&&(CIB.config.messaging.messageBufferWorkerStreamDelayMS=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.syntheticStreamSpeedForPreciseTone,at))),s=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableStreamSyntheticTextResponses,!1),s)&&(CIB.config.messaging.streamSyntheticTextResponses=ys(i))}function ys(i){var r,f,e,o=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableStreamSyntheticTextResponsesForBalancedTone,!0),s=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableStreamSyntheticTextResponsesForCreativeTone,!0),c=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enableStreamSyntheticTextResponsesForPreciseTone,!0);return o&&(i===n.BALANCED_TONE&&u[n.BALANCED_TONE]==="galileo"||h&&u[n.BALANCED_TONE]==="")||s&&(i===n.CREATIVE_TONE&&u[n.CREATIVE_TONE]==="h3imaginative"||h&&u[n.CREATIVE_TONE]==="")||c&&(i===n.PRECISE_TONE&&u[n.PRECISE_TONE]==="h3precise"||h&&u[n.PRECISE_TONE]==="")}function ps(n){if(!n)return rt.Demote;for(var t in rt)if(t.toLowerCase().trim()===n.toLowerCase().trim())return rt[t];return rt.Demote}function ws(){var t=sj_cook.get(n.userCook,se),i=ps(t);CIB.config.sydney.bingFirstPageAdultFilter=i}function bs(n){er=n}function ks(){return er}function nu(){var i,r=sj_cook.get(n.userCook,v),e;if(y){var o=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.bceTermsOfUseVersion,2),u=sj_cook.get(vi,v),s=!!r||!!u,f=s?Number(r)||Number(u)||1:0;return!!f&&f>=o}return e=sj_cook.get(k,k),r===e}function ds(){var u,f,e,o,s,h,c,l,a,d=sj_cook.get(k,k),g=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.bceTermsOfUseVersion,2),w=y?g.toString():d,p,b;sj_cook.set(n.userCook,v,w,!0,"/",null);sj_cook.set(vi,v,w,!0,"/",null);i(r.System,"MuidConsentProvided","MuidUser",{IsConsent:"1"});CIB.config.sydney.muidUserConsentGiven=!0;CIB.config.features.enableSuggestionBarInUnexpandedChatAnswer&&(p=(o=(e=(f=_d.querySelector(".b_ans #b_sydTigerCont"))===null||f===void 0?void 0:f.querySelector("cib-serp"))===null||e===void 0?void 0:e.shadowRoot)===null||o===void 0?void 0:o.querySelector("cib-see-more-container"),b=(a=(l=(c=(h=(s=_d.querySelector(".b_ans #b_sydTigerCont"))===null||s===void 0?void 0:s.querySelector("cib-serp"))===null||h===void 0?void 0:h.shadowRoot)===null||c===void 0?void 0:c.querySelector("cib-conversation"))===null||l===void 0?void 0:l.shadowRoot)===null||a===void 0?void 0:a.querySelector("cib-suggestion-bar"),p&&b&&p.setAttribute("has-suggestions","true"))}function gs(){if(typeof CIB.version!="undefined"&&CIB.version&&CIB.version.version&&typeof sj_cook!="undefined"&&sj_cook){var t=CIB.version.version,u=sj_cook.get(n.userCook,yi);u&&u===t||(sj_cook.set(n.userCook,yi,t,!0,"/",null),i(r.System,"CIB","CIBInfo",{version:t}))}}function nh(){var n,u=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.DedicatedIpType,"unknown");["nochat","nochatstrict"].indexOf(u)>-1&&i(r.System,"NoChatVariant","NoChatVariantInfo",{DedicatedIpType:u})}function dt(){var f,e=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableToneCookExpiry,!1),u;return e&&(u=parseInt(sj_cook.get(n.userCook,n.toneExpiryCrumb)),u&&u>0&&Date.now()>u)?(sj_cook.set(n.userCook,n.toneExpiryCrumb,"0",!0,"/",null),i(r.System,"ResetTone","Tone",{}),null):sj_cook.get(n.userCook,n.toneCrumb)}function ut(f){var h,c,a,v,y,p,w,b,g=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enableToneCookExpiry,!1),k=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.enableBalancedSerp,!1),nt=t((a=_w._sydConvConfig)===null||a===void 0?void 0:a.enableAlwaysCreativeSerp,!1),tt=t((v=_w._sydConvConfig)===null||v===void 0?void 0:v.enableAlwaysBalancedSerp,!1),rt=t((y=_w._sydConvConfig)===null||y===void 0?void 0:y.enableSuperOptionsSets,!1),ut=t((p=_w._sydConvConfig)===null||p===void 0?void 0:p.enableBalancedSerpLog,!1),s="",ot=t((w=_w._sydConvConfig)===null||w===void 0?void 0:w.enableGetToneFromServer,!1),o=dt(),d;if(ut&&o!=n.BALANCED_TONE&&i(r.System,"BalSerpOverride","Tone",{tone:o}),ot&&(s=t((b=_w._sydConvConfig)===null||b===void 0?void 0:b.responseTone,f)),rh()){d=ft(hi).toLowerCase().trim();CIB.responseTone=s||it[d];gt(CIB.responseTone,!1,g);i(r.System,"SET_TONE_FROM_URL",d,{});i(r.System,vt,"Tone",{tone:CIB.responseTone});return}nt?(o=s||n.CREATIVE_TONE,CIB.responseTone=o):tt?(o=s||n.BALANCED_TONE,CIB.responseTone=o):!k&&o!=null&&u.hasOwnProperty(o)?(CIB.responseTone=s||o,i(r.System,vt,"Tone",{tone:CIB.responseTone})):(o=s||f,CIB.responseTone=o,i(r.System,"DefaultTone","Tone",{tone:o}));rt&&e(CIB.config.sydney.request.optionsSets,ue);wt=CIB.config.sydney.request.optionsSets.length;!k&&u.hasOwnProperty(o)?(e(CIB.config.sydney.request.optionsSets,u[o]),CIB.config.sydney.request.optionsSets=et(CIB.config.sydney.request.optionsSets,o),l=o,kt(l)):k&&u.hasOwnProperty(n.BALANCED_TONE)&&(e(CIB.config.sydney.request.optionsSets,u[n.BALANCED_TONE]),CIB.config.sydney.request.optionsSets=et(CIB.config.sydney.request.optionsSets,n.BALANCED_TONE),l=n.BALANCED_TONE,kt(n.BALANCED_TONE))}function th(n){var u,f=n&&n.length>1?n[1]:null,e=f?f.toLowerCase().trim():"",o,s;f&&it.hasOwnProperty(e)&&(o=n&&n.length>2?n[2]:!1,s=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableToneCookExpiry,!1),CIB.responseTone=it[e],gt(CIB.responseTone,o,s),i(r.System,vt,"Tone",{tone:CIB.responseTone}))}function ih(){var n,u,f;sj_evt.bind(ee,th,!0);var e=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableToneCookExpiry,!1),o=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.isCompliantSydneyEndpointEnabled,!1),s=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableToneChangedLogs,!1);if(!o&&CIB.onResponseToneChanged)CIB.onResponseToneChanged(function(n){gt(n,!0,e)});if(s)CIB.onResponseToneChanged(function(n){i(r.System,"ToneChanged","Tone",{newTone:n})})}function ft(n){var i=_w.location.search,r=new URLSearchParams(i),t=r.get(n);return t?t:""}function rh(){var n,r=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableSetToneFromUrl,!1),i;return r?(i=ft(hi),i&&it.hasOwnProperty(i.toLowerCase().trim())):!1}function gt(t,i,r){var s=[u[t]].concat(c[t]).toString(),o,f;t!==dt()&&uu("ChangedTone","Tone",{newTone:t});i&&(sj_cook.set(n.userCook,n.toneCrumb,t,!0,"/",null),sj_cook.set(n.userCook,n.toneOptsCrumb,s,!0,"/",null),r&&(o=fh(),sj_cook.set(n.userCook,n.toneExpiryCrumb,o.toString(),!0,"/",null)));u.hasOwnProperty(t)&&(f=ru(CIB.config.sydney.request.optionsSets,Object.keys(u)),f!==-1?h&&u[t]===""?(wt=f,CIB.config.sydney.request.optionsSets.splice(f,1)):CIB.config.sydney.request.optionsSets[f]=u[t]:h?e(CIB.config.sydney.request.optionsSets,u[t],wt):e(CIB.config.sydney.request.optionsSets,u[t]),CIB.config.sydney.request.optionsSets=et(CIB.config.sydney.request.optionsSets,t,l),l=t,kt(l))}function uh(){var u,f,e,o=n.getConfigOrDefault((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableBalancedSerp,!1),t,i,s;o&&!ir&&(ir=!0,o&&(t=n.getCookieTone(),t!=null&&t!=n.BALANCED_TONE&&(i=CIB.manager.conversation._lastMessage,s=(e=(f=CIB===null||CIB===void 0?void 0:CIB.config)===null||f===void 0?void 0:f.greeting)===null||e===void 0?void 0:e.shouldSendBotGreeting,CIB.config.greeting.shouldSendBotGreeting=!1,n.shouldResetBotGreeting=!1,CIB.responseTone=t,n.lastQuery="",i&&i.text&&CIB.registerContext([{author:"bot",source:"serpBalResp",text:i.text}]),n.shouldResetBotGreeting=!0,CIB.config.greeting.shouldSendBotGreeting=s,n.SydLog(r.System,"SetCookToneAfterSERP","Tone",{tone:t}))))}function tu(n){var i,r=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.isCompliantSydneyEndpointEnabled,!1);n&&!r&&(CIB.config.speech.language=n,e(CIB.config.sydney.request.optionsSets,"cdxslang"))}function fh(){var i,r=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableStaticToneExpiry,!1),n=new Date;return r?n.setDate(n.getDate()+3):(n.setDate(n.getDate()+(n.getHours()<2?1:2)),n.setHours(2),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0)),n.getTime()}function et(n,t,i){return i===void 0&&(i=""),i!=""&&c.hasOwnProperty(i)&&(n=eh(n,c[i])),t!=""&&c.hasOwnProperty(t)&&c[t].forEach(function(t){e(n,t)}),n}function e(n,t,i){return i===void 0&&(i=-1),n||(n=[]),t&&n.indexOf(t)<0&&(i<0?n.push(t):n.splice(i,0,t)),n}function iu(n,t){var i=n.indexOf(t);i>=0&&n.splice(i,1)}function eh(n,t){return t.forEach(function(t){var i=n.indexOf(t);i>=0&&n.splice(i,1)}),n}function ru(n,t){for(var f,r,i=0;i<t.length;i++)if(f=t[i],r=n.indexOf(u[f]),r>=0)return r;return-1}function ni(n,t){var i={};return t?n.locType&&(i.LocationType=n.locType):n.accuracy&&(i.Accuracy=n.accuracy),n.state&&(i.State=decodeURI(n.state)),n.city&&(i.City=decodeURI(n.city)),n.lat&&n.long&&(i.Center={Latitude:parseFloat(n.lat),Longitude:parseFloat(n.long)}),n.source&&(i.LocationSource=n.source),n.altitude&&(i.Altitude=n.altitude),n.altitudeAcc&&(i.AltitudeAccuracy=n.altitudeAcc),n.displayName&&(i.DisplayName=n.displayName),n.name&&(i.Name=n.name),n.heading&&(i.Heading=n.heading),n.isValidLocation&&(i.IsValidLocation=n.isValidLocation),n.range&&(i.Radius=n.range),n.speed&&(i.Speed=n.speed),n.ts&&(i.Timestamp=n.ts),n.ets&&(i.ExpiryTimestamp=n.ets),i}function oh(){var t=(new Date).getTimezoneOffset(),r=Math.floor(Math.abs(t/60)),u=Math.abs(t%60),i;t<0?i="+"+o(r)+":"+o(u):t>0?i="-"+o(r)+":"+o(u):t==0&&(i="Z");var n=new Date,f=n.getDate(),e=n.getMonth()+1,s=n.getFullYear(),h=n.getHours(),c=n.getMinutes(),l=n.getSeconds();return o(s)+"-"+o(e)+"-"+o(f)+"T"+o(h)+":"+o(c)+":"+o(l)+i}function o(n){return n<10?"0"+n:n}function s(n,t){if(t){var i=t.split(",");return n.concat(i)}return n}function t(n,t){return typeof n!="undefined"?n:t}function sh(n){var t=__spreadArray([],CIB.config.sydney.request.optionsSets,!0),i;return u.hasOwnProperty(n)&&(i=ru(t,Object.keys(u)),i!==-1&&(t[i]=u[n]),t=et(t,n,l)),t}function hh(){var t,r=n.getConfigOrDefault((t=_w._sydConvConfig)===null||t===void 0?void 0:t.enableChatPageCookieBannerFix,!1),i;return r?(i=_ge("bnp_cookie_banner"),i&&_w&&_w.getComputedStyle(i).display!=="none"):!1}function i(n,i,r,u){var e,o,s,h,c,f,l,a,v,y,p;u===void 0&&(u=null);f=[];l=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.isCompliantSydneyEndpointEnabled,!1);l&&f.push("IsBizChat",l.toString());a=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.isBingChatForEnterprise,!1);a&&f.push("IsBCE",a.toString());v=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.isBingChatForFaculty,!1);y=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.isBingChatForStudents,!1);v&&f.push("IsBCSFaculty","true");y&&f.push("IsBCSStudent","true");p=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.enableTelemetryPrivacy,!1);p&&(u=ch(u));u==null?(Log.Log.apply(Log,__spreadArray([n,"Codex",i,!1,"Namespace",r],f,!1)),ti.apply(void 0,__spreadArray([n,i,r],f,!1))):(Log.Log.apply(Log,__spreadArray([n,"Codex",i,!1,"Namespace",r,"CustomData",JSON.stringify(u)],f,!1)),ti.apply(void 0,__spreadArray([n,i,r,"CustomData",JSON.stringify(u)],f,!1)))}function ti(n,i,u){for(var l,a,e,c,o,s,h=[],f=3;f<arguments.length;f++)h[f-3]=arguments[f];l=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableCompliantLogger,!1);a=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableCIBBootstrapper,!1);l&&n===r.Interaction&&(e=function(t){var r,o,s,c,f,l;t===void 0&&(t=!0);(r=MsbSydneyHelper.compliantLog)===null||r===void 0?void 0:r.call.apply(r,__spreadArray([MsbSydneyHelper,n,i,"Namespace",u],h,!1));l=(c=(s=(o=CIB.manager)===null||o===void 0?void 0:o.conversation)===null||s===void 0?void 0:s.messages)===null||c===void 0?void 0:c.filter(function(n){return n.author==="user"}).length;i==="ConversationViewEnter"&&l>0&&((f=MsbSydneyHelper.compliantLog)===null||f===void 0?void 0:f.call.apply(f,__spreadArray(__spreadArray([MsbSydneyHelper,n,"UserMessageRendered","Namespace","CompliantLog"],h,!1),["CustomData",""],!1)));t&&sj_evt.unbind("MsbSydneyHelperLoaded",e)},c=function(n){n===void 0&&(n=!0);a&&typeof CIB=="undefined"?SydneyBootstrapper.bindToCIBInit(function(){return e(n)}):e(n)},typeof MsbSydneyHelper!="undefined"?c(!1):sj_evt&&sj_evt.bind("MsbSydneyHelperLoaded",c,!0,undefined,!0))}function ch(n){return n?n.source&&n.source==="welcomeScreenBoldClick"?n:(ve.forEach(function(t){var i,r;n[t]!==undefined&&(n[t]=yt);((i=n.CustomData)===null||i===void 0?void 0:i[t])!==undefined&&(n.CustomData[t]=yt);((r=n.EncryptedData)===null||r===void 0?void 0:r[t])!==undefined&&(n.EncryptedData[t]=yt)}),n):n}function uu(n,t,u){i(r.Interaction,n,t,u)}function lh(){var i,r,u;history&&(n.enableConvModeSwitchAjax&&(_w._currentRoute={state:_w.history.state,href:_w.location.href,search:_w.location.search}),r=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.initialBackButtonFix,!1),r&&fu(!1),sj_be(_w,"popstate",function(i){var f,e,o,s,h,c,l,a,v,y,p,w,r,u;n.enableBingChatPath=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableBingChatPath,!1);n.enableConvModeSwitchAjax=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enableConvModeSwitchAjax,!1);var nt=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableNotebookMode,!1),b=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableBackFromNotebook,!0),tt=nt&&b&&_G[n.SYD_MODE]==="notebook";if(bi=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.isCopilotChat,!1),n.enableConvModeSwitchAjax)if(r=_w._currentRoute,_w._currentRoute={state:_w.history.state,href:_w.location.href,search:_w.location.search},n.enableBingChatPath){if(u=_ge("sb_form_q"),ot((c=_w._currentRoute)===null||c===void 0?void 0:c.search)!=(u===null||u===void 0?void 0:u.value)&&(_w._isConvAjaxUpdated||((a=(l=_w._currentRoute)===null||l===void 0?void 0:l.state)===null||a===void 0?void 0:a.ajaxserp)===!0)){var k=_w.location,d=k.href,g=d.indexOf("/search");if(g>=0){window.location.reload();return}}}else{if(tt){sj_evt.fire("switchToConversation");sj_evt.fire("showSydFSC",undefined,undefined,undefined,!0);return}if(ot(r===null||r===void 0?void 0:r.search)!=ot((v=_w._currentRoute)===null||v===void 0?void 0:v.search)&&(_w._isConvAjaxUpdated||((p=(y=_w._currentRoute)===null||y===void 0?void 0:y.state)===null||p===void 0?void 0:p.ajaxserp)===!0)){var k=_w.location,d=k.href,g=d.indexOf("/search");if(g>=0){window.location.reload();return}}}((w=i===null||i===void 0?void 0:i.state)===null||w===void 0?void 0:w.inConvMode)?_G[n.SYD_MODE]=="serp"?sj_evt.fire("showSydFSC",null,null,!1,!0):b&&_G[n.SYD_PREV_MODE]==="notebook"&&sj_evt.fire("showNotebook"):bi||!(i===null||i===void 0?void 0:i.state)||i.state.inConvMode||_G[n.SYD_MODE]!="conversation"||(sj_evt.fire("preHideSydFSCByHistory"),sj_evt.fire("hideSydFSC",!0))}),URLSearchParams&&(u=new URLSearchParams(window.location.search),tr=u.get("showconv")==="1"))}function fu(u){var f,e,o,s,h,c,l=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.isNewBingChat,!1),a=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enableDynamicFormCode,!1),v=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.initialBackButtonFix,!1);if(n.enableBingChatPath=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableBingChatPath,!1),history){if((tr||l)&&tt&&u){tt=!1;history.replaceState({inConvMode:u},document.title||"");n.enableConvModeSwitchAjax=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enableConvModeSwitchAjax,!1);i(r.System,"SydHistory","replace",{enableConvModeSwitchAjax:n.enableConvModeSwitchAjax,showconv:u});n.enableConvModeSwitchAjax&&(_w._currentRoute={state:_w.history.state,href:_w.location.href,search:_w.location.search});l&&(_w._chatRoute=_w.location.pathname);return}if(v&&tt&&!u){tt=!1;history.replaceState({inConvMode:u},document.title||"");return}nr?eu(u):n.enableBingChatPath?l&&a?sj_evt.bind("ConvModeNavigate",function y(n){var t=n&&n.length>1?n[1]:null;ou(u,t);sj_evt.unbind("ConvModeNavigate",y)}):ou(u,null):(history.pushState({inConvMode:u},document.title||""),n.enableConvModeSwitchAjax=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.enableConvModeSwitchAjax,!1),i(r.System,"SydHistory","push",{enableConvModeSwitchAjax:n.enableConvModeSwitchAjax,showconv:u}),n.enableConvModeSwitchAjax&&(_w._currentRoute={state:_w.history.state,href:_w.location.href,search:_w.location.search}))}}function eu(u){var f,e,s=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableToggleChatSearch,!1),o=new URL(window.location.href);s&&(o.pathname=u?"/chat":"/search");o.searchParams.set("showconv",u?"1":"0");history.pushState({inConvMode:u},p(u),o);n.enableConvModeSwitchAjax=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enableConvModeSwitchAjax,!1);i(r.System,"SydHistory","push",{enableConvModeSwitchAjax:n.enableConvModeSwitchAjax,showconv:u,Paramflag:1});n.enableConvModeSwitchAjax&&(_w._currentRoute={state:_w.history.state,href:_w.location.href,search:_w.location.search})}function ah(){var t,n=new URL(window.location.href);((t=n===null||n===void 0?void 0:n.searchParams)===null||t===void 0?void 0:t.get("showntbk"))||(n.searchParams.append("showntbk","1"),history.pushState({inConvMode:!0},p(!0),n))}function vh(){var t,n=new URL(window.location.href),i=(t=n===null||n===void 0?void 0:n.searchParams)===null||t===void 0?void 0:t.get("showntbk");i==="1"&&(n.searchParams["delete"]("showntbk"),history.replaceState({inConvMode:!0},p(!0),n))}function ou(u,f){var e,o,h=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.isMobileHost,!1);if(!h){var s=_ge("sb_form_q"),c=_ge("sb_form"),l=_w._chatRoute||"/chat",a=u?l:"/search";history.pushState({inConvMode:u},p(u),a+"?q="+encodeURIComponent(f||(s===null||s===void 0?void 0:s.value)||"Bing AI")+yh(c));n.enableConvModeSwitchAjax=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableConvModeSwitchAjax,!1);i(r.System,"SydHistory","push",{enableConvModeSwitchAjax:n.enableConvModeSwitchAjax,showconv:u,Paramflag:1});n.enableConvModeSwitchAjax&&(_w._currentRoute={state:_w.history.state,href:_w.location.href,search:_w.location.search})}}function yh(n){var r="",i,t,u;if(!n)return r;for(i=n.getElementsByTagName("input"),t=0;t<i.length;t++)i[t].type==="hidden"&&i[t].name!="form"&&(r+="&"+i[t].name+"="+encodeURIComponent(i[t].value));return u=_w._ncpformCode||(_w._isConvAutoHide?"ATCVAJ":"CONVAJ"),r+"&form="+u}function p(n){return a&&nt?n?a:nt:document.title}function ph(n){var i;a=t((i=_w._sydConvTranslation)===null||i===void 0?void 0:i.pageTitleText,"");a&&nt&&(document.title=p(n))}function wh(){var t,n;((t=history===null||history===void 0?void 0:history.state)===null||t===void 0?void 0:t.inConvMode)&&(n=_ge("sb_form_q"),n&&n.value?sj_evt.fire("showSydFSC",n.value):sj_evt.fire("showSydFSC"))}function bh(){function d(n){if(n&&n.length>=2){var t=n[1].waitlist;t&&t=="2"&&(CIB.config.features.enableMUIDUserMode=!1,CIB.config.messaging.maxTurnsPerConversation=ut,sj_evt.unbind("rewready",d))}}var i,r,u,f,e,o,s,h,c,l,a,v,y,g=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableSydTigerAns,!0),nt=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableSydAjaxReset,!1),tt=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enablePanelTransition,!1),b,k,p,w;if(!tt)CIB.onModeChanged(function(t){switch(t){case"conversation":sj_evt.fire("showSydFSC");CIB.config.sydney.request.scenario==="SERP"&&kr();break;case"off-stage":if(n.ignoreFirstOffStage){n.ignoreFirstOffStage=!1;CIB.showConversation();break}sj_evt.fire("hideSydFSC");break;default:Log.Log("ClientInst","Codex","ModeChangeError",!1,"CustomData",JSON.stringify({mode:t}))}});if(g&&(b=_ge("b_sydTigerCont"),b)){k=_d.querySelector("#b_pole #b_sydTigerCont")!=null;CIB.onSerpSlotSuggestionInvoked(function(){_G[n.SYD_MODE]!="conversation"&&(n.LogIntEvent("ConversationViewEnter",k?"Pole":"RightRail",{source:"ChatBubble"}),sj_evt.fire("showSydFSC"))});p=_ge("sb_form_q");p&&(CIB.config.sydney.slottedModeTurnIndex=wu()&&((o=(e=(f=CIB===null||CIB===void 0?void 0:CIB.vm)===null||f===void 0?void 0:f.conversation)===null||e===void 0?void 0:e.turns)===null||o===void 0?void 0:o.length)?Math.max(CIB.vm.conversation.turns.length-1,0):0,n.lastQuery=p.value.toLowerCase().trim())}nt&&sj_evt.bind("ajax.unload",function(){var n,t,i,r,u,f,e,o,s,h,c;CIB&&(c=(t=(n=CIB===null||CIB===void 0?void 0:CIB.config)===null||n===void 0?void 0:n.greeting)===null||t===void 0?void 0:t.shouldSendBotGreeting,CIB.config.greeting.shouldSendBotGreeting=!1,(u=(r=(i=CIB===null||CIB===void 0?void 0:CIB.manager)===null||i===void 0?void 0:i.stream)===null||r===void 0?void 0:r.subscription)===null||u===void 0?void 0:u.dispose(),(e=(f=CIB===null||CIB===void 0?void 0:CIB.manager)===null||f===void 0?void 0:f.stream)===null||e===void 0?void 0:e.complete(),(s=(o=CIB===null||CIB===void 0?void 0:CIB.manager)===null||o===void 0?void 0:o.stream)===null||s===void 0?void 0:s.finalizeStreamSubscription(),(h=CIB===null||CIB===void 0?void 0:CIB.manager)===null||h===void 0?void 0:h.resetConversation(),CIB.config.greeting.shouldSendBotGreeting=c)});sj_evt.bind("ajax.clearChat",function(){var n,t,i,r,u,f,e,o,s,h,c;CIB&&(c=(t=(n=CIB===null||CIB===void 0?void 0:CIB.config)===null||n===void 0?void 0:n.greeting)===null||t===void 0?void 0:t.shouldSendBotGreeting,CIB.config.greeting.shouldSendBotGreeting=!1,(u=(r=(i=CIB===null||CIB===void 0?void 0:CIB.manager)===null||i===void 0?void 0:i.stream)===null||r===void 0?void 0:r.subscription)===null||u===void 0?void 0:u.dispose(),(e=(f=CIB===null||CIB===void 0?void 0:CIB.manager)===null||f===void 0?void 0:f.stream)===null||e===void 0?void 0:e.complete(),(s=(o=CIB===null||CIB===void 0?void 0:CIB.manager)===null||o===void 0?void 0:o.stream)===null||s===void 0?void 0:s.finalizeStreamSubscription(),(h=CIB===null||CIB===void 0?void 0:CIB.manager)===null||h===void 0?void 0:h.resetConversation(),CIB.config.greeting.shouldSendBotGreeting=c)});var it=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.codexMUIDUser,!1),rt=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enableSigninTurnFix,!0),ut=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.maxTurnsPerConversation,lt);if(it&&rt&&sj_evt.bind("rewready",d,!0),CIB.onModalVisibilityChanged)CIB.onModalVisibilityChanged(function(n){var t=_ge("b_header");t&&(n?Lib.CssClass.add(t,gi):Lib.CssClass.remove(t,gi))});var ft=t((l=_w._sydConvConfig)===null||l===void 0?void 0:l.enableThreads,!1),et=t((a=_w._sydConvConfig)===null||a===void 0?void 0:a.isAccountLinkedWithActiveAAD,!1),ot=t((v=_w._sydConvConfig)===null||v===void 0?void 0:v.enableFreeSydney,!1)&&t((y=_w._sydConvConfig)===null||y===void 0?void 0:y.enableAIPersonasForDesktop,!1);ft||!et||ot||(w=_qs("body"),w&&Lib.CssClass.add(w,ye))}function kh(){var t,i,r,u,f,e,o,s,h,l=(r=(i=(t=CIB===null||CIB===void 0?void 0:CIB.vm)===null||t===void 0?void 0:t.conversation)===null||i===void 0?void 0:i.model)===null||r===void 0?void 0:r.suggestions,n=document.activeElement,c;return!l||!n||n.nodeName!=="CIB-SERP"?"":(n=(s=(o=(e=(f=(u=n===null||n===void 0?void 0:n.shadowRoot)===null||u===void 0?void 0:u.activeElement)===null||f===void 0?void 0:f.shadowRoot)===null||e===void 0?void 0:e.activeElement)===null||o===void 0?void 0:o.shadowRoot)===null||s===void 0?void 0:s.activeElement,!n||n.nodeName!=="CIB-SUGGESTION-ITEM")?"":(n=(h=n===null||n===void 0?void 0:n.shadowRoot)===null||h===void 0?void 0:h.activeElement,!n||n.nodeName!=="BUTTON"||!n.textContent)?"":(c=n.textContent.trim(),l.find(function(n){return n.text.trim()===c}))?c:""}function ii(n){var t=_ge(n);t&&t.parentElement&&t.parentElement.removeChild(t)}function dh(n){CIB.processCachedResponse(n)}function su(n,t,i,r,u,f,e,o){n===void 0&&(n="");t===void 0&&(t="");i===void 0&&(i="");r===void 0&&(r="");u===void 0&&(u=!1);f===void 0&&(f=!1);e===void 0&&(e=!1);o===void 0&&(o=!0);sj_evt.fire("showSydFSC",n,t,r,u,i,f,e,!1,!1,o)}function ot(n){var r=new RegExp("[?&]{1}q=([^&]+)"),t=n.match(r),i=t?t[1]:null;return i?decodeURIComponent(i.replace("+"," ")):""}function w(){var i,r,u,e=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.isSapphireClient,!1),f,n;return e?ot(_w.location.search):(f=typeof sj_b!="undefined"&&sj_b!=null?sj_b:_d.body,n=f.querySelectorAll("textarea.b_searchbox, input.b_searchbox:not(#uaseabox)"),!n||n.length<=0)?"":(u=(r=n[0])===null||r===void 0?void 0:r.getAttribute("value"))!==null&&u!==void 0?u:""}function gh(){var t=new URLSearchParams(_w.location.search),i=t.get(ci);i&&(n.lastQuery=w().toLowerCase().trim())}function hu(n,t,i,r,u,f,e){var s,o,h;t===void 0&&(t=!1);i===void 0&&(i="");r===void 0&&(r="");u===void 0&&(u=!1);f===void 0&&(f=!1);e===void 0&&(e=!0);s="";t&&(s=w());o=i;o||(h=_d.querySelector(".b_ans #b_wpt_data"),h&&(o=h.getAttribute("data-sydctx")));su(n,o,s,r,!1,u,f,e)}function nc(n,t,i){n===void 0&&(n="");t===void 0&&(t="");i===void 0&&(i=!0);var r=w();hu(r,!1,n,t,!1,!0,i)}function tc(t){n.isSydFSCEligible=t}function ic(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t]}function rc(){sj_evt.fire("clarity.trigger","cibChat")}function uc(n,t,i){return!n||t&&(!i||i.toLowerCase().trim()!==w().toLowerCase().trim())}function fc(t,i){var l,a,v,y,p,w,b,k,it,o,d,u,e,s,tt,ht,h,ct,r,c,lt,at,vt,yt;i===void 0&&(i=!1);it=n.getConfigOrDefault((l=_w._sydConvConfig)===null||l===void 0?void 0:l.enableSydCarouselHistory,!1);cu();var f=sj_ce("div","b_metaCont"),rt=sj_ce("div","b_metaCont_Title"),pt=n.getConfigOrDefault((a=_w._sydConvTranslation)===null||a===void 0?void 0:a.sydneyCarouselTitle,"");rt.textContent=pt;f.appendChild(rt);o=sj_ce("div","b_meta_bot");f.appendChild(o);d=sj_ce("div","b_metaChat");u=sj_ce("div","b_metaCont_PillCont","b_meta_hideEx");i?u.appendChild(d):o.appendChild(d);o.appendChild(u);var ut=n.getConfigOrDefault((v=_w._sydConvConfig)===null||v===void 0?void 0:v.carouselQueries,""),wt=n.getConfigOrDefault((y=_w._sydConvConfig)===null||y===void 0?void 0:y.sydCarPropQuery,!1),ft=ut?ut.split(","):null,g=ft?ft:CIB.vm.conversation.model.messages.filter(function(n){return n.type==="meta"&&n.text&&n.text!="Generating answers for you..."}).map(function(n){var i,r,t=(r=(i=n.text)===null||i===void 0?void 0:i.split("`"))!==null&&r!==void 0?r:[];return t.length==1?t[0]:t.length==3?t[1]:""}).filter(function(n){return n}),et=0,bt=i?_w.innerWidth-oi-ne:gf,kt=_w.innerWidth-oi-si,ot=!i,st=bt-si,dt=CIB.vm.conversation.model._id,nt=!0;for(e=g.length-1;e>=0;e--)s=g[e],nt&&(tt=ec(s)+2*te+ie,et+tt<st?et+=tt:ot?(nt=!1,ht=e+1,h=sj_ce("div","b_meta_exp","b_metaCont_Pill"),h.innerText="+"+ht.toString(),sj_be(h,"click",function(){Lib.CssClass.add(u,"b_metaExpanded")}),u.append(h)):(st=kt,ot=!0)),ct="cdxche",r=sj_ce("a",null,"b_metaCont_Pill"+(nt?"":" b_hide")),r.href=_w.location.origin+_w.location.pathname+"?q="+s+"&form="+ct,it&&(r.href=r.href+"&convid="+dt),wt&&(r.href=r.href+"&features=sydcarousel,sydcpropq"),r.textContent=s,r.target="_blank",sj_be(r,"click",function(t){var r=_ge("CodexCarouselInstLink"),i;_w.si_ct&&_w.si_ct(r);i=t===null||t===void 0?void 0:t.target;n.LogIntEvent("QueryCarouselClick","QueryCarousel",{query:i===null||i===void 0?void 0:i.textContent})}),u.appendChild(r);c=sj_ce("div","b_meta_col","b_metaCont_Pill b_hide");c.innerText=n.getConfigOrDefault((p=_w._sydConvTranslation)===null||p===void 0?void 0:p.sydneyCarouselCollapse,"Collapse");sj_be(c,"click",function(){Lib.CssClass.remove(u,"b_metaExpanded")});u.append(c);g.length>0&&(lt=n.getConfigOrDefault((w=_w._sydConvConfig)===null||w===void 0?void 0:w.suppressAlsoTryWhenEnableSydCarousel,!1),lt&&ii("b_alsotry"),at=n.getConfigOrDefault((b=_w._sydConvConfig)===null||b===void 0?void 0:b.suppressPoleRSWhenEnableSydCarousel,!1),at&&ii("brspole"),vt=n.getConfigOrDefault((k=_w._sydConvConfig)===null||k===void 0?void 0:k.suppressPoleRecommendedSearchWhenEnableSydCarousel,!1),vt&&ii("polerecommendedsearch"),t.children.length>0?(yt=_w.getComputedStyle(t,null),yt.paddingLeft=="0px"&&Lib.CssClass.add(f,"b_metaPadding"),t.insertBefore(f,t.children[0])):t.appendChild(f),sj_evt.fire(fe))}function ec(n){var i=sj_ce("canvas"),t=i.getContext("2d");return t.font="14px Roboto",t.measureText(n).width}function cu(){var n=_ge("b_metaCont");n&&n.parentElement&&n.parentElement.removeChild(n)}function oc(){var n,t,i;((t=(n=CIB.config)===null||n===void 0?void 0:n.knowledgeCards)===null||t===void 0?void 0:t.query)&&(CIB.config.knowledgeCards.query.IG=_G.IG,CIB.config.knowledgeCards.query.IID=(i=_ge("b_sydConvCont"))===null||i===void 0?void 0:i.getAttribute("_iid"))}function lu(){var n,i,r,o=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.isMobileHost,!1)&&t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.isMobileUI,!1),s=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.isUnderside,!1),u,f,e;return s?_w.matchMedia("(prefers-color-scheme: dark)").matches:(u=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get("SRCHHPGUSR","DM"),o?(f=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get("SRCHHPGUSR","THEME"),f=="1"||f=="2"&&u=="1"):(e=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get("SRCHHPGUSR","WEBTHEME"),e=="1"||e=="2"&&u=="1"))}function ri(n,i,r){var e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.disable2TSearchHistory,!0),ut=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enable2TTest,!1),tt=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enable2TResizeUpdate,!0),u=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.isMobileHost,!1)&&t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.isMobileUI,!1),it=t((l=_w._sydConvConfig)===null||l===void 0?void 0:l.enable2TThemeCheck,!0),rt=t((a=_w._sydConvConfig)===null||a===void 0?void 0:a.enable2TUndersideOverride,!1),f;((y=(v=CIB===null||CIB===void 0?void 0:CIB.config)===null||v===void 0?void 0:v.answers)===null||y===void 0?void 0:y.query)&&(CIB.config.answers.query.IG=_G.IG,CIB.config.answers.query.IID=(p=_ge("b_sydConvCont"))===null||p===void 0?void 0:p.getAttribute("_iid"),CIB.config.answers.query.cw=n,CIB.config.answers.query.ch=i,nt&&(CIB.config.answers.query.dissrchswrite="1"),tt&&sj_be(_w,"resize",function(){CIB.config.answers.query.cw=ht(u);CIB.config.answers.query.ch=st(u)}),it&&(lu()?u?CIB.config.answers.query.darkschemeovr="1":CIB.config.answers.query.webthemedark="1":CIB.config.answers.query.lightschemeovr="1"),rt&&(CIB.config.answers.query.underside="1"));((b=(w=CIB===null||CIB===void 0?void 0:CIB.config)===null||w===void 0?void 0:w.ads)===null||b===void 0?void 0:b.query)&&(CIB.config.ads.query.IG=_G.IG,CIB.config.ads.query.IID=r?(k=_ge("CodexAdsInstLink"))===null||k===void 0?void 0:k.getAttribute("_iid"):(d=_ge("b_sydConvCont"))===null||d===void 0?void 0:d.getAttribute("_iid"),CIB.config.ads.query.cw=n,CIB.config.ads.query.ch=i,CIB.config.ads.query.form="codexx",nt&&(CIB.config.ads.query.dissrchswrite="1"),tt&&sj_be(_w,"resize",function(){CIB.config.ads.query.cw=ht(u);CIB.config.ads.query.ch=st(u)}),it&&(lu()?u?CIB.config.ads.query.darkschemeovr="1":CIB.config.ads.query.webthemedark="1":CIB.config.ads.query.lightschemeovr="1"),rt&&(CIB.config.ads.query.underside="1"));ut&&SydneyTestHelper.set2TTestConfigs();f=_w.GlobalInstTracker;typeof f!="undefined"&&f&&f.updateCibConfigIgFromMode&&((g=CIB===null||CIB===void 0?void 0:CIB.vm)===null||g===void 0?void 0:g.mode)&&f.updateCibConfigIgFromMode(CIB.vm.mode)}function sc(n,t){var i=ht(n),r=st(n);if(n)try{ri(i,r,t)}catch(u){Log.Log("CI.Error","SydneyMobile","ClientObserver not loaded")}else ri(i,r,t)}function st(n){var i,r=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enable2TQueryConfigClientObserverNullCheck,!1);return n?ClientObserver?ClientObserver.getBrowserHeight():vr():r?ClientObserver?ClientObserver.getBrowserHeight():Math.round(_d.documentElement.clientHeight||_w.innerHeight):ClientObserver.getBrowserHeight()}function ht(i){var r,f=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enable2TQueryConfigClientObserverNullCheck,!1),u;return i?(u=ClientObserver?ClientObserver.getBrowserWidth():ar(),u-n.padding2TMobile<n.MIN_WIDTH_MOBILE?n.MIN_WIDTH_MOBILE:u-n.padding2TMobile):f?ClientObserver?ClientObserver.getBrowserWidth():Math.round(_d.documentElement.clientWidth||_w.innerWidth):ClientObserver.getBrowserWidth()}function au(n){var i,r,u;if(n===void 0&&(n={autoSubmit:!1}),r=vu(),r&&CIB.addMessageWithData){var f=t(!!((i=_w._sydConvConfig)===null||i===void 0?void 0:i.himgdirmsg),!0),e=decodeURI(r),o=typeof SydneyImageKnowledgeTestUtils!="undefined";o&&(e=SydneyImageKnowledgeTestUtils.prepareMockedImageUrl());u=[{type:"url",data:e}];n.autoSubmit&&!!n.isFirstMessage&&!!n.query&&CIB.sendSearchQueryWithData?CIB.sendSearchQueryWithData(n.query,{images:u},{hideImageInUserMessage:f}):CIB.addMessageWithData({text:n.query||"",images:u},n.autoSubmit,"",{hideImageInUserMessage:f});o&&sj_evt.fire("CIBMessageWithDataSent")}}function hc(u,f,e,o,s,h){var v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,c,l,ft,a,ot,st;if(s===void 0&&(s=!1),h===void 0&&(h=!0),rt=t((v=_w._sydConvConfig)===null||v===void 0?void 0:v.enableSydContext,!0),ut=t((y=_w._sydConvConfig)===null||y===void 0?void 0:y.enableSQMsg,!0),n.enableConvModeSwitchAjax=t((p=_w._sydConvConfig)===null||p===void 0?void 0:p.enableConvModeSwitchAjax,!1),i(r.System,"TrySendingFirstQueryToChat","SerpToChatTransition",{}),!pu(u,s))return!1;if(o&&n.enableConvModeSwitchAjax){if(n.isSmoothConvSwitchUpdatedPage())return!1;try{if(c=CIB.vm.conversation.model.messages.filter(function(n){return n.type==="meta"&&n.text!="Generating answers for you..."||n.type==="text"&&n.author==="user"}),c&&c.length>0&&(l=c[c.length-1].text.split("`"),ft=l.length==1?l[0]:l.length==3?l[1]:"",ft.toLowerCase()==u.toLowerCase()))return!1}catch(yt){}}a=[];e&&a.push({author:"user",text:e});f&&a.push({author:"bot",text:f});rt&&a.length!=0&&CIB.registerContext(a);var ht=(b=(w=_w._sydConvConfig)===null||w===void 0?void 0:w.enableSunoWelcomeMessage)!==null&&b!==void 0?b:!1,ct=(d=(k=_w._sydConvConfig)===null||k===void 0?void 0:k.enableSunoUpsell)!==null&&d!==void 0?d:!1,lt=(nt=(g=_w._sydConvConfig)===null||g===void 0?void 0:g.isMSAAuthenticated)!==null&&nt!==void 0?nt:!1,et=n.getConfigOrDefault((tt=_w._sydConvConfig)===null||tt===void 0?void 0:tt.enableScrollMsgTextMessage,!0),at=new URLSearchParams(_w===null||_w===void 0?void 0:_w.location.search),vt=at.get("enablesuno")==="1";return ct&&ht&&lt&&vt&&(!CIB.manager.conversation._lastMessage||CIB.manager.conversation._lastMessage.author==="bot")&&!CIB.manager.conversation.messages.filter(function(n){return n.author==="user"}).length?(u=t((it=_w._sydConvTranslation)===null||it===void 0?void 0:it.sunoCachedMessage,u),CIB.addMessage(u)):ut&&o&&(!et||h)&&(!CIB.manager.conversation._lastMessage||CIB.manager.conversation._lastMessage.author==="bot")&&!CIB.manager.conversation.messages.filter(function(n){return n.author==="user"}).length?yu(u,!0):(i(r.Interaction,"TranistionToChatWithQuery","SerpToChatTransition",{}),et&&!h&&(ot=typeof sessionStorage!="undefined",st="isMessageIntentional",ot&&(sessionStorage===null||sessionStorage===void 0?void 0:sessionStorage.setItem(st,JSON.stringify(!1)))),yu(u,!1)),n.lastQuery=u,n.firstQuery.length==0&&(n.firstQuery=u),!0}function cc(){return CIB.config.features.enablePartnerVisualSearchUpload&&CIB.config.visualSearch.sendPartnerImageUrlDirectlyToBot}function vu(){var n,i=new URLSearchParams(_w.location.search),t=(n=i.get(fi))!==null&&n!==void 0?n:typeof SydneyTestHelper!="undefined"?SydneyTestHelper.getParamFromUrl(fi):null;return t!==null&&t!==void 0?t:undefined}function lc(){return{imageUrl:vu()}}function yu(n,t){if(cc()){var i=lc();if(i.imageUrl){au({query:n,isFirstMessage:t,autoSubmit:!0});return}}t?CIB.sendSearchQuery(n):CIB.addMessage(n)}function pu(n,u){var f,e,o,s,l;if(ac(n)||vc())return!1;var h=ft("showconv"),c=ft("sendquery"),a=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.isNewBingChat,!1),v=h==="1"||a;return v&&c==="1"||u?!0:h==="1"&&c!=="1"?!1:(s=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.initialShowConvPresent,!1),l=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.disableChatQueryForShowConv,!0),s&&i(r.System,"InitialShowConvPresent","SerpToChatTransition","1"),l&&s)?!1:!0}function ac(t){return!t||t==n.lastQuery||t==n.firstQuery}function vc(){var n,i,r,u,f=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.bypassConsentCheck,!1),e=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableCodexMuidConsentTop,!1),o=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableCodexMuidConsentExplicit,!0),s=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableCodexMuidConsentImplicit,!1),h=CIB.vm.conversation.model.messages.filter(function(n){return n.author=="user"}).length,c=e||o||s;return c&&!pt&&!nu()&&!(f||h<1)}function yc(n){var i=n.dataset.codexads,r,t;return i?(r=n.querySelector(".sb_add > h2 > a"),t=JSON.parse(i),r&&(t===null||t===void 0?void 0:t.length)>0&&(t[0].kappns=r.getAttribute("h")),i=JSON.stringify(t),i?i:""):""}function ui(n,t,i){return i===void 0&&(i="POST"),new Promise(function(r,u){var f=sj_gx();f.onreadystatechange=function(){f.readyState===4&&(f.status===200?r(f):u(f))};f.onerror=function(){u(f)};f.open(i,n,!0);f.setRequestHeader("content-type","application/json");f.send(t)})}function pc(n){return ui(n,"","GET").then(function(n){return Promise.resolve(JSON.parse(n.response))})["catch"](function(n){return Promise.reject(n)})}function wc(n){var u,f,e,i,r;return n?(e="Search for {0}. Impress me with a great response that helps me complete my most likely intent while showing the smartness, depth, and beauty (bolding, tables, and citations) you can produce. Satisfy my intent as early as possible in the response.",i=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.tigerEnhancedPromptTemplate,e),!i)?n:(i=i.replace("{0}",n),r=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.language,""),r&&r.indexOf("English")<0&&(i+=" Respond in language "+r),i):n}function wu(){var n,i,r,u=new URLSearchParams(_w===null||_w===void 0?void 0:_w.location.search),f=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableDynamicFormCode,!1),e=f?!!_w._ncpformCode:((i=u.get("form"))===null||i===void 0?void 0:i.toLowerCase())==="convaj"||((r=u.get("form"))===null||r===void 0?void 0:r.toLowerCase())==="atcvaj";return u.has("form")&&e&&_w._isConvAjaxUpdated}function bc(){var n=_ge("noSerp");return n&&Lib.CssClass.contains(n,"initSerp")}function kc(){var n,t,i=(t=(n=_d.querySelector("cib-serp"))===null||n===void 0?void 0:n.shadowRoot)===null||t===void 0?void 0:t.querySelector("cib-background");i&&(i.style.height="100%",i.style.width="100%")}function dc(){var n,t,i,r,u,f,e=(f=(u=(r=(i=(t=(n=_d.querySelector("cib-serp"))===null||n===void 0?void 0:n.shadowRoot)===null||t===void 0?void 0:t.querySelector("cib-conversation"))===null||i===void 0?void 0:i.shadowRoot)===null||r===void 0?void 0:r.querySelector("cib-welcome-container"))===null||u===void 0?void 0:u.shadowRoot)===null||f===void 0?void 0:f.querySelector(".muid-upsell");e&&(e.style.display="none")}function gc(){var t,i,n=(i=(t=_d.querySelector("cib-serp"))===null||t===void 0?void 0:t.shadowRoot)===null||i===void 0?void 0:i.querySelector("cib-conversation"),r,u;(n===null||n===void 0?void 0:n.shadowRoot)&&(r=n.shadowRoot.querySelector(".scroller"),r&&(u=r.querySelector(".fade.top"),u&&(u.style.display="none")))}function nl(){var r,u,f;bt=__spreadArray([],CIB.config.sydney.request.optionsSets,!0);var e=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableNotebookTurbo,!1),i=n.getAllowedToneOptionsSets(e?n.CREATIVE_TONE:n.PRECISE_TONE),o=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.threadsAutoSaveOptionset,b),s=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableNotebookThreads,!1);s||(i=i.filter(function(n){return n!==o}));fr.forEach(function(t){n.addOptionSet(i,t)});CIB.config.sydney.request.optionsSets=i;CIB.showNotebook&&CIB.showNotebook();_G[n.SYD_PREV_MODE]=_G[n.SYD_MODE];_G[n.SYD_MODE]="notebook"}function tl(){CIB.config.sydney.request.optionsSets=__spreadArray([],bt,!0);var t=n.getAllowedToneOptionsSets(CIB.responseTone);CIB.config.sydney.request.optionsSets=t}function il(){var n;return __awaiter(this,void 0,void 0,function(){var i,u,r;return __generator(this,function(f){switch(f.label){case 0:return t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enable1pGptsApi,!1)?(r={},[4,FreeSydneyHelper.get1pGptsFromApi()]):[3,2];case 1:return i=(r.freeSydneyPersonaModels=f.sent(),r),[3,4];case 2:return[4,hl()];case 3:u=f.sent();i={freeSydneyPersonaModels:__spreadArray(__spreadArray([],FreeSydneyHelper.getFreeSydneyPersonasData().freeSydneyPersonaModels,!0),u,!0)};f.label=4;case 4:return CIB.setFreeSydneyData&&CIB.setFreeSydneyData(i),[2]}})})}function rl(){var n=FreeSydneyHelper.getFreeSydneyPersonasData();return n&&n.freeSydneyPersonaModels.length>0?n.freeSydneyPersonaModels[0]:null}function ul(n,t,r){if(r===void 0&&(r=!1),CIB===null)return i("AdsAjax","BingChatAds","InjectionFailed",{Reason:"CIB element not found"}),!1;var u=_ge(we),f=r?_qs(ke):_qs(or);return u===null||f===null?(i("AdsAjax","BingChatAds","InjectionFailed",{Reason:"External content wrapper or cib-serp wrapper not found"}),!1):ol(n,f,u,t)}function fl(n){if(CIB===null)return i("WPAIC","AnswersInChat","InjectionFailed",{Reason:"CIB Element not found"}),!1;var t=_ge("b_chat_external_answer_cards_content"),r=_qs(or);return t===null||r===null?(i("WPAIC","AnswersInChat","InjectionFailed",{Reason:"External content wrapper or cib-serp wrapper not found"}),!1):sl(r,t,n)}function el(){var n;return t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.isAjaxSerpUpdated,!1)}function ct(n){if(!n)return null;for(var t=n.parentNode;t;){if(t instanceof ShadowRoot)return t;t=t.parentNode}return null}function ol(n,t,r,u){var a,v,y,p,w,b,g=n==="cib-message"&&!!u,k,d,s,f,e,h,nt,o,c,l,tt;if(k=g?(y=(v=ct((a=_w._sydExtResSlots)===null||a===void 0?void 0:a.get(u)))===null||v===void 0?void 0:v.host)!==null&&y!==void 0?y:undefined:(p=t===null||t===void 0?void 0:t.shadowRoot)===null||p===void 0?void 0:p.querySelector(n),!k)return i("AdsAjax","BingChatAds","InjectionFailed",{Reason:"Destination element not found"}),!1;for(d=r.getElementsByClassName(be),s=0;s<d.length;s++){if(f=d[s],e=k,!f){i("AdsAjax","BingChatAds","InjectionFailed",{Reason:"Could not parse external content to HTMLElement"});continue}if(h=f.getAttribute("slot"),h===null){i("AdsAjax","BingChatAds","InjectionFailed",{Reason:"Slot name on injected element is null"});continue}for(nt=1,o=h;e.tagName.toLowerCase()!==sr;)c=sj_ce("slot"),c.setAttribute("slot",o),o="".concat(h,"-").concat(nt++),c.setAttribute("name",o),e.appendChild(c),e=(b=(w=ct(e))===null||w===void 0?void 0:w.host)!==null&&b!==void 0?b:t;f.setAttribute("slot",o);t.appendChild(f);f.classList.remove(hr);l=yc(f);f.removeAttribute("data-codexads");tt=f.dataset.query;f.removeAttribute("data-query");g?_w.postMessage({type:"AnswerCardDimensionUpdate",data:{type:"ADS",iframeid:u,height:f.clientHeight,width:f.clientWidth,hasCarousel:!1,isFullWidth:!1,query:tt,context:l?l:{}}},"*"):_w.postMessage({eventId:de,adsContext:l,width:f.clientWidth,height:f.clientHeight},"*")}return!0}function sl(n,t,r){var c,l,a,v,y,p,w=(a=(l=ct((c=_w._sydTwoTPlusResSlots)===null||c===void 0?void 0:c.get(r)))===null||l===void 0?void 0:l.host)!==null&&a!==void 0?a:undefined,o,u,f,s,b,e,h;if(!w)return i("WPAIC","AnswersInChat","InjectionFailed",{Reason:"Destination element not found"}),!1;for(o=0;o<((v=t.children)===null||v===void 0?void 0:v.length);o++){if(u=t.children.item(o),f=w,!u){i("WPAIC","AnswersInChat","InjectionFailed",{Reason:"Could not parse external content to HTMLElement"});continue}if(s=u.getAttribute("slot"),s===null){i("WPAIC","AnswersInChat","InjectionFailed",{Reason:"Slot name on injected element is null"});continue}for(b=1,e=s;f.tagName.toLowerCase()!==sr;)h=sj_ce("slot"),h.setAttribute("slot",e),e="".concat(s,"-").concat(b++),h.setAttribute("name",e),f.appendChild(h),f=(p=(y=ct(f))===null||y===void 0?void 0:y.host)!==null&&p!==void 0?p:n;u.setAttribute("slot",e);n.appendChild(u);u.classList.remove(hr)}return!0}function hl(){var n;return __awaiter(this,void 0,void 0,function(){var i,r,u,f;return __generator(this,function(e){switch(e.label){case 0:return(i=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableAIPersonasForDesktop,!1),!(i&&typeof PersonaGPTHandler!="undefined"&&PersonaGPTHandler))?[3,2]:(r=_w._sydConvTranslation,[4,PersonaGPTHandler.getPersonas()]);case 1:return u=e.sent(),f=u.map(function(n){return{id:n.topic,type:n.topic,name:n.personaTitle,displayName:n.personaTitle,icon:n.smallImageUrl,avatarImageUrl:n.avatarImageUrl,description:n.shortDescription,extraOptionsSets:n.optionsSets,supportedTones:n.supportedTones,defaultTone:n.defaultTone,showThreads:!1,welcomeHeader:n.description,welcomeTiles:n.suggestions.map(function(n){return{category:"chat",text:n.text,title:r.freeSydneyWelcomeTilesChatTitle,size:"medium"}})}}),[2,f];case 2:return[2,[]]}})})}var bu="sydneyOptionsSets",ku="codexFeatures",du="speechSrOptions",fi="imgUrl",gu="https://bing.com/new",nf="desktop",tf="/turing/copilot/builder",ei="/search",rf="bingchat",uf="chat",ff="iycapbing,iyxapbing,prjupy",ef="https://sydney.bing.com",sf="https://copilot.microsoft.com",hf="https://www.bing.com",b="autosave",f="",ci;n.CREATIVE_TONE="Creative";n.BALANCED_TONE="Balanced";n.PRECISE_TONE="Precise";var lt=5,cf=1,lf=1048576,af=1048576,vf=10485760,yf=500,pf=1,wf=1,bf=[],kf=[],df="https://go.microsoft.com/fwlink/?linkid=2135394",gf=750,oi=48,ne=42,te=16,ie=6,si=60,at=55,re=1e3,ue="so_bing_chat",hi="seltone",fe="SydAddCarousel";n.SYD_MODE="SydMode";n.SYD_PREV_MODE="SydPrevMode";n.lastQuery=(n===null||n===void 0?void 0:n.lastQuery)?n===null||n===void 0?void 0:n.lastQuery:"";n.firstQuery="";n.ignoreFirstOffStage=!1;n.shouldResetBotGreeting=!0;n.shouldForceSendBotGreeting=!1;ci="shareId";n.userCook="SRCHHPGUSR";n.toneCrumb="cdxtone";n.toneOptsCrumb="cdxtoneopts";n.toneExpiryCrumb="cdxtoneexp";var vt="InitialTone",ee="crtone",oe="cdxwinturn",se="ADLT",k="MUID",li="CMUID",he="BCTTSOS",ai="VSRO",ce="VSVN",vi="BFBUSR",le="CMUIDBCE",yi="CIBV",pi="BCML",wi="BCMLNCount",d=!1,bi=!1,ki="BCRO",di="BCRONCount",g=!1,ae="BCSRLANG",ve=["chips","query","searchQuery","text"],yt="<stripped/>",gi="cdxModalVisible",ye="aad",a="",nt=document.title||"",nr=!1,tr=!1,tt=!0,v=li,y=!1,pt=!1,pe=3,r={System:"SystemEvent",Interaction:"InteractionEvent"},u={Creative:"h3imaginative",Balanced:"harmonyv3",Precise:"h3precise"},it={c:"Creative",b:"Balanced",p:"Precise"},c={Creative:[],Balanced:[],Precise:[]},l="",ir=!1,h=!1,rr=!1,wt=-1,ur="",bt,fr=[],er="",cl={type:r.System,name:"SydneyTranslationAjaxLoaded",namespace:"TranslationJson",customLogData:null},rt={Off:"1",Demote:"2",Strict:"4",KidSafe:"8",Stricter:"16",AdultOnly:"32"},we="b_chat_external_content",be="b_cib_ext",or='cib-serp[serp-slot="none"]',sr="cib-serp",ke='cib-serp[serp-slot="right-rail"]',hr="b_hide",de="adInjectionComplete";n.isSydFSCEligible=n.isSydFSCEligible?n.isSydFSCEligible:!1;n.isConfigSet=!1;n.enableCreatorSendQueryWhenShowConvQuery=!0;n.padding2TMobile=92;n.MIN_WIDTH_MOBILE=288;n.enableConvModeSwitchAjax=!1;n.enableBingChatPath=!1;n.setConfigs=ge;n.setTestConfigs=cr;n.setColorScheme=eo;n.getMobileBrowserWidth=ar;n.getMobileBrowserHeight=vr;n.prefetchTranslationStrings=oo;n.setConvTranslationAsync=so;n.setTigActiveSuggestionChipText=bs;n.getTigActiveSuggestionChipText=ks;n.getCookieTone=dt;n.updateResponseToneAfterSerp=uh;n.setSpeechLanguageConfig=tu;n.addOptionSet=e;n.removeOptionSet=iu;n.getConfigOrDefault=t;n.getAllowedToneOptionsSets=sh;n.isCookieBannerVisibileOnChatPage=hh;n.SydLog=i;n.CompliantLog=ti;n.LogIntEvent=uu;n.setupHistory=lh;n.pushSydHistory=fu;n.updateConvFlagInURL=eu;n.addNotebookFlagInURL=ah;n.deleteNotebookFlagInURL=vh;n.updateConvPageTitle=ph;n.checkInitialState=wh;n.setEventListeners=bh;n.getActiveSuggestionChipText=kh;n.processCachedResponseUsingCIB=dh;n.triggerSydFSC=su;n.getQuery=w;n.triggerShareFlow=gh;n.triggerSydFSCWithContext=hu;n.triggerSydFSCQueryWithContext=nc;n.setSydFSCEligibleState=tc;n.sydPayWallTrace=ic;n.triggerClarity=rc;n.shouldMove1TAnswers=uc;n.addCarousel=fc;n.removeQueries=cu;n.set2TQueryConfigs=ri;n.retrieveSydneyFSCClientHeight=st;n.retrieveSydneyFSCClientWidth=ht;n.submitVisualSearchImage=au;n.sendFirstQuery=hc;n.shouldSendQuery=pu;n.createRequest=ui;n.getJsonData=pc;n.createIntelligentQuery=wc;n.isSmoothConvSwitchUpdatedPage=wu;n.isFirstAjaxSerp=bc;n.updateChatBackgroundWidth=kc;n.hideSignInUpsellFor3P=dc;n.hideTopFade=gc;n.setNotebookOptions=nl;n.setDefaultOptions=tl;n.setFreeSydneyData=il;n.getDefaultFreeSydneyData=rl;n.injectExternalAd=ul;n.injectAnswerCard=fl;n.isAjaxSerpUpdatedPage=el;sj_evt.fire("SydFSCHelperLoaded")}(SydFSCHelper||(SydFSCHelper={}))